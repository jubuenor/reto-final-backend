{"C:\\Users\\Juancho\\adonisJs\\reto-final\\env.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\env.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":0},"end":{"line":14,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"env.js","sourceRoot":"","sources":["env.ts"],"names":[],"mappings":";;;;;AAcA,gFAAsC;AAEtC,kBAAe,aAAG,CAAC,KAAK,CAAC;IACxB,IAAI,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;IAC3C,IAAI,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IACzB,OAAO,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,QAAQ,EAAE,aAAG,CAAC,MAAM,CAAC,MAAM,EAAE;IAC5B,UAAU,EAAE,aAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAU,CAAC;IAChD,QAAQ,EAAE,aAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,YAAY,EAAE,MAAM,CAAU,CAAC;CACzE,CAAC,CAAA","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Validating Environment Variables\n|--------------------------------------------------------------------------\n|\n| In this file we define the rules for validating environment variables.\n| By performing validation we ensure that your application is running in\n| a stable environment with correct configuration values.\n|\n| This file is read automatically by the framework during the boot lifecycle\n| and hence do not rename or move this file to a different location.\n|\n*/\n\nimport Env from '@ioc:Adonis/Core/Env'\n\nexport default Env.rules({\n\tHOST: Env.schema.string({ format: 'host' }),\n\tPORT: Env.schema.number(),\n\tAPP_KEY: Env.schema.string(),\n\tAPP_NAME: Env.schema.string(),\n  DRIVE_DISK: Env.schema.enum(['local'] as const),\n\tNODE_ENV: Env.schema.enum(['development', 'production', 'test'] as const),\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c6c267b6c1f23c83773ce76a4cc457dba472b802","contentHash":"8d07d443fcc6f009e6a6b94a2406ab8a1d36bfcc340673cd1a86a75c58632aca"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\app.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":59}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":79}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":26,"column":2}},"8":{"start":{"line":27,"column":0},"end":{"line":32,"column":2}},"9":{"start":{"line":33,"column":0},"end":{"line":37,"column":2}},"10":{"start":{"line":38,"column":0},"end":{"line":38,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;;;;;AAOA,4DAAkC;AAClC,gFAAsC;AAmBzB,QAAA,MAAM,GAAW,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;AAWnC,QAAA,IAAI,GAAiB;IAYhC,mBAAmB,EAAE,KAAK;IAO1B,eAAe,EAAE,CAAC;IAWlB,iBAAiB,EAAE,KAAK;IAWxB,UAAU,EAAE,oBAAS,CAAC,OAAO,CAAC,UAAU,CAAC;IAUzC,IAAI,EAAE,KAAK;IAOX,iBAAiB,EAAE,UAAU;IAO7B,MAAM,EAAE;QACN,MAAM,EAAE,EAAE;QACV,IAAI,EAAE,GAAG;QACT,MAAM,EAAE,IAAI;QACZ,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,KAAK;QACb,QAAQ,EAAE,KAAK;KAChB;IAkBD,yBAAyB,EAAE,kBAAkB;CAC9C,CAAA;AAOY,QAAA,MAAM,GAAiB;IAalC,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,UAAU,CAAC;IAUzB,OAAO,EAAE,IAAI;IAYb,KAAK,EAAE,aAAG,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC;IAWnC,WAAW,EAAE,aAAG,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,aAAa;CACnD,CAAA;AAOY,QAAA,QAAQ,GAAmB;IAStC,OAAO,EAAE,IAAI;IAWb,SAAS,EAAE,EAAE;IAWb,SAAS,EAAE,EAAE;CACd,CAAA;AAWY,QAAA,SAAS,GAAoB,EACzC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefZ\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport proxyAddr from 'proxy-addr'\nimport Env from '@ioc:Adonis/Core/Env'\nimport type { ServerConfig } from '@ioc:Adonis/Core/Server'\nimport type { LoggerConfig } from '@ioc:Adonis/Core/Logger'\nimport type { ProfilerConfig } from '@ioc:Adonis/Core/Profiler'\nimport type { ValidatorConfig } from '@ioc:Adonis/Core/Validator'\n\n/*\n|--------------------------------------------------------------------------\n| Application secret key\n|--------------------------------------------------------------------------\n|\n| The secret to encrypt and sign different values in your application.\n| Make sure to keep the `APP_KEY` as an environment variable and secure.\n|\n| Note: Changing the application key for an existing app will make all\n| the cookies invalid and also the existing encrypted data will not\n| be decrypted.\n|\n*/\nexport const appKey: string = Env.get('APP_KEY')\n\n/*\n|--------------------------------------------------------------------------\n| Http server configuration\n|--------------------------------------------------------------------------\n|\n| The configuration for the HTTP(s) server. Make sure to go through all\n| the config properties to make keep server secure.\n|\n*/\nexport const http: ServerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Allow method spoofing\n  |--------------------------------------------------------------------------\n  |\n  | Method spoofing enables defining custom HTTP methods using a query string\n  | `_method`. This is usually required when you are making traditional\n  | form requests and wants to use HTTP verbs like `PUT`, `DELETE` and\n  | so on.\n  |\n  */\n  allowMethodSpoofing: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Subdomain offset\n  |--------------------------------------------------------------------------\n  */\n  subdomainOffset: 2,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Request Ids\n  |--------------------------------------------------------------------------\n  |\n  | Setting this value to `true` will generate a unique request id for each\n  | HTTP request and set it as `x-request-id` header.\n  |\n  */\n  generateRequestId: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Trusting proxy servers\n  |--------------------------------------------------------------------------\n  |\n  | Define the proxy servers that AdonisJs must trust for reading `X-Forwarded`\n  | headers.\n  |\n  */\n  trustProxy: proxyAddr.compile('loopback'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Generating Etag\n  |--------------------------------------------------------------------------\n  |\n  | Whether or not to generate an etag for every response.\n  |\n  */\n  etag: false,\n\n  /*\n  |--------------------------------------------------------------------------\n  | JSONP Callback\n  |--------------------------------------------------------------------------\n  */\n  jsonpCallbackName: 'callback',\n\n  /*\n  |--------------------------------------------------------------------------\n  | Cookie settings\n  |--------------------------------------------------------------------------\n  */\n  cookie: {\n    domain: '',\n    path: '/',\n    maxAge: '2h',\n    httpOnly: true,\n    secure: false,\n    sameSite: false,\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Force Content Negotiation\n  |--------------------------------------------------------------------------\n  |\n  | The internals of the framework relies on the content negotiation to\n  | detect the best possible response type for a given HTTP request.\n  |\n  | However, it is a very common these days that API servers always wants to\n  | make response in JSON regardless of the existence of the `Accept` header.\n  |\n  | By setting `forceContentNegotiationTo = 'application/json'`, you negotiate\n  | with the server in advance to always return JSON without relying on the\n  | client to set the header explicitly.\n  |\n  */\n  forceContentNegotiationTo: 'application/json',\n}\n\n/*\n|--------------------------------------------------------------------------\n| Logger\n|--------------------------------------------------------------------------\n*/\nexport const logger: LoggerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Application name\n  |--------------------------------------------------------------------------\n  |\n  | The name of the application you want to add to the log. It is recommended\n  | to always have app name in every log line.\n  |\n  | The `APP_NAME` environment variable is automatically set by AdonisJS by\n  | reading the `name` property from the `package.json` file.\n  |\n  */\n  name: Env.get('APP_NAME'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Toggle logger\n  |--------------------------------------------------------------------------\n  |\n  | Enable or disable logger application wide\n  |\n  */\n  enabled: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Logging level\n  |--------------------------------------------------------------------------\n  |\n  | The level from which you want the logger to flush logs. It is recommended\n  | to make use of the environment variable, so that you can define log levels\n  | at deployment level and not code level.\n  |\n  */\n  level: Env.get('LOG_LEVEL', 'info'),\n\n  /*\n  |--------------------------------------------------------------------------\n  | Pretty print\n  |--------------------------------------------------------------------------\n  |\n  | It is highly advised NOT to use `prettyPrint` in production, since it\n  | can have huge impact on performance.\n  |\n  */\n  prettyPrint: Env.get('NODE_ENV') === 'development',\n}\n\n/*\n|--------------------------------------------------------------------------\n| Profiler\n|--------------------------------------------------------------------------\n*/\nexport const profiler: ProfilerConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Toggle profiler\n  |--------------------------------------------------------------------------\n  |\n  | Enable or disable profiler\n  |\n  */\n  enabled: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Blacklist actions/row labels\n  |--------------------------------------------------------------------------\n  |\n  | Define an array of actions or row labels that you want to disable from\n  | getting profiled.\n  |\n  */\n  blacklist: [],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Whitelist actions/row labels\n  |--------------------------------------------------------------------------\n  |\n  | Define an array of actions or row labels that you want to whitelist for\n  | the profiler. When whitelist is defined, then `blacklist` is ignored.\n  |\n  */\n  whitelist: [],\n}\n\n/*\n|--------------------------------------------------------------------------\n| Validator\n|--------------------------------------------------------------------------\n|\n| Configure the global configuration for the validator. Here's the reference\n| to the default config https://git.io/JT0WE\n|\n*/\nexport const validator: ValidatorConfig = {\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9faa2db380f56e1f72ab03ee24ac76c6ff65404c","contentHash":"4f883d19ebc5076f0b3401068a0b78fbf43892385bdd6dccaa529deed398c6b1"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\bodyparser.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\bodyparser.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":44,"column":1}},"2":{"start":{"line":45,"column":0},"end":{"line":45,"column":35}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"bodyparser.js","sourceRoot":"","sources":["bodyparser.ts"],"names":[],"mappings":";;AASA,MAAM,gBAAgB,GAAqB;IAUzC,kBAAkB,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC;IAWtD,IAAI,EAAE;QACJ,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,MAAM,EAAE,IAAI;QACZ,KAAK,EAAE;YACL,kBAAkB;YAClB,6BAA6B;YAC7B,0BAA0B;YAC1B,wBAAwB;SACzB;KACF;IAWD,IAAI,EAAE;QACJ,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,WAAW,EAAE,EAAE;QAYf,yBAAyB,EAAE,IAAI;QAE/B,KAAK,EAAE;YACL,mCAAmC;SACpC;KACF;IAYD,GAAG,EAAE;QACH,QAAQ,EAAE,OAAO;QACjB,KAAK,EAAE,KAAK;QACZ,WAAW,EAAE,EAAE;QACf,KAAK,EAAE;YACL,QAAQ;SACT;KACF;IAWD,SAAS,EAAE;QAcT,WAAW,EAAE,IAAI;QAsBjB,eAAe,EAAE,EAAE;QAuBnB,QAAQ,EAAE,OAAO;QAYjB,yBAAyB,EAAE,IAAI;QAW/B,SAAS,EAAE,IAAI;QAWf,KAAK,EAAE,MAAM;QAUb,KAAK,EAAE;YACL,qBAAqB;SACtB;KACF;CACF,CAAA;AAED,kBAAe,gBAAgB,CAAA","sourcesContent":["/**\n * Config source: https://git.io/Jfefn\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport type { BodyParserConfig } from '@ioc:Adonis/Core/BodyParser'\n\nconst bodyParserConfig: BodyParserConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | White listed methods\n  |--------------------------------------------------------------------------\n  |\n  | HTTP methods for which body parsing must be performed. It is a good practice\n  | to avoid body parsing for `GET` requests.\n  |\n  */\n  whitelistedMethods: ['POST', 'PUT', 'PATCH', 'DELETE'],\n\n  /*\n  |--------------------------------------------------------------------------\n  | JSON parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the JSON parser. The types defines the request content\n  | types which gets processed by the JSON parser.\n  |\n  */\n  json: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    strict: true,\n    types: [\n      'application/json',\n      'application/json-patch+json',\n      'application/vnd.api+json',\n      'application/csp-report',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Form parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the `application/x-www-form-urlencoded` parser. The types\n  | defines the request content types which gets processed by the form parser.\n  |\n  */\n  form: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    queryString: {},\n\n    /*\n    |--------------------------------------------------------------------------\n    | Convert empty strings to null\n    |--------------------------------------------------------------------------\n    |\n    | Convert empty form fields to null. HTML forms results in field string\n    | value when the field is left blank. This option normalizes all the blank\n    | field values to \"null\"\n    |\n    */\n    convertEmptyStringsToNull: true,\n\n    types: [\n      'application/x-www-form-urlencoded',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Raw body parser settings\n  |--------------------------------------------------------------------------\n  |\n  | Raw body just reads the request body stream as a plain text, which you\n  | can process by hand. This must be used when request body type is not\n  | supported by the body parser.\n  |\n  */\n  raw: {\n    encoding: 'utf-8',\n    limit: '1mb',\n    queryString: {},\n    types: [\n      'text/*',\n    ],\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | Multipart parser settings\n  |--------------------------------------------------------------------------\n  |\n  | The settings for the `multipart/form-data` parser. The types defines the\n  | request content types which gets processed by the form parser.\n  |\n  */\n  multipart: {\n    /*\n    |--------------------------------------------------------------------------\n    | Auto process\n    |--------------------------------------------------------------------------\n    |\n    | The auto process option will process uploaded files and writes them to\n    | the `tmp` folder. You can turn it off and then manually use the stream\n    | to pipe stream to a different destination.\n    |\n    | It is recommended to keep `autoProcess=true`. Unless you are processing bigger\n    | file sizes.\n    |\n    */\n    autoProcess: true,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Files to be processed manually\n    |--------------------------------------------------------------------------\n    |\n    | You can turn off `autoProcess` for certain routes by defining\n    | routes inside the following array.\n    |\n    | NOTE: Make sure the route pattern starts with a leading slash.\n    |\n    | Correct\n    | ```js\n    | /projects/:id/file\n    | ```\n    |\n    | Incorrect\n    | ```js\n    | projects/:id/file\n    | ```\n    */\n    processManually: [],\n\n    /*\n    |--------------------------------------------------------------------------\n    | Temporary file name\n    |--------------------------------------------------------------------------\n    |\n    | When auto processing is on. We will use this method to compute the temporary\n    | file name. AdonisJs will compute a unique `tmpPath` for you automatically,\n    | However, you can also define your own custom method.\n    |\n    */\n    // tmpFileName () {\n    // },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Encoding\n    |--------------------------------------------------------------------------\n    |\n    | Request body encoding\n    |\n    */\n    encoding: 'utf-8',\n\n    /*\n    |--------------------------------------------------------------------------\n    | Convert empty strings to null\n    |--------------------------------------------------------------------------\n    |\n    | Convert empty form fields to null. HTML forms results in field string\n    | value when the field is left blank. This option normalizes all the blank\n    | field values to \"null\"\n    |\n    */\n    convertEmptyStringsToNull: true,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Max Fields\n    |--------------------------------------------------------------------------\n    |\n    | The maximum number of fields allowed in the request body. The field includes\n    | text inputs and files both.\n    |\n    */\n    maxFields: 1000,\n\n    /*\n    |--------------------------------------------------------------------------\n    | Request body limit\n    |--------------------------------------------------------------------------\n    |\n    | The total limit to the multipart body. This includes all request files\n    | and fields data.\n    |\n    */\n    limit: '20mb',\n\n    /*\n    |--------------------------------------------------------------------------\n    | Types\n    |--------------------------------------------------------------------------\n    |\n    | The types that will be considered and parsed as multipart body.\n    |\n    */\n    types: [\n      'multipart/form-data',\n    ],\n  },\n}\n\nexport default bodyParserConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"06c43f2cf7f6e1a385893cd5d165889d486d39c5","contentHash":"63298f4034ba5330b257188c17c3a032774d397420ff569fabdae43d04a0dc06"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\cors.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\cors.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":18,"column":1}},"2":{"start":{"line":19,"column":0},"end":{"line":19,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"cors.js","sourceRoot":"","sources":["cors.ts"],"names":[],"mappings":";;AASA,MAAM,UAAU,GAAe;IAa7B,OAAO,EAAE,KAAK;IAwBd,MAAM,EAAE,IAAI;IAYZ,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC;IAmBjD,OAAO,EAAE,IAAI;IAsBb,aAAa,EAAE;QACb,eAAe;QACf,kBAAkB;QAClB,cAAc;QACd,SAAS;QACT,eAAe;QACf,QAAQ;KACT;IAaD,WAAW,EAAE,IAAI;IAWjB,MAAM,EAAE,EAAE;CACX,CAAA;AAED,kBAAe,UAAU,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefC\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport type { CorsConfig } from '@ioc:Adonis/Core/Cors'\n\nconst corsConfig: CorsConfig = {\n  /*\n  |--------------------------------------------------------------------------\n  | Enabled\n  |--------------------------------------------------------------------------\n  |\n  | A boolean to enable or disable CORS integration from your AdonisJs\n  | application.\n  |\n  | Setting the value to `true` will enable the CORS for all HTTP request. However,\n  | you can define a function to enable/disable it on per request basis as well.\n  |\n  */\n  enabled: false,\n\n  // You can also use a function that return true or false.\n  // enabled: (request) => request.url().startsWith('/api')\n\n  /*\n  |--------------------------------------------------------------------------\n  | Origin\n  |--------------------------------------------------------------------------\n  |\n  | Set a list of origins to be allowed for `Access-Control-Allow-Origin`.\n  | The value can be one of the following:\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\n  |\n  | Boolean (true)    - Allow current request origin.\n  | Boolean (false)   - Disallow all.\n  | String            - Comma separated list of allowed origins.\n  | Array             - An array of allowed origins.\n  | String (*)        - A wildcard (*) to allow all request origins.\n  | Function          - Receives the current origin string and should return\n  |                     one of the above values.\n  |\n  */\n  origin: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Methods\n  |--------------------------------------------------------------------------\n  |\n  | An array of allowed HTTP methods for CORS. The `Access-Control-Request-Method`\n  | is checked against the following list.\n  |\n  | Following is the list of default methods. Feel free to add more.\n  */\n  methods: ['GET', 'HEAD', 'POST', 'PUT', 'DELETE'],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Headers\n  |--------------------------------------------------------------------------\n  |\n  | List of headers to be allowed for `Access-Control-Allow-Headers` header.\n  | The value can be one of the following:\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers\n  |\n  | Boolean(true)     - Allow all headers mentioned in `Access-Control-Request-Headers`.\n  | Boolean(false)    - Disallow all headers.\n  | String            - Comma separated list of allowed headers.\n  | Array             - An array of allowed headers.\n  | Function          - Receives the current header and should return one of the above values.\n  |\n  */\n  headers: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | Expose Headers\n  |--------------------------------------------------------------------------\n  |\n  | A list of headers to be exposed by setting `Access-Control-Expose-Headers`.\n  | header. By default following 6 simple response headers are exposed.\n  |\n  | Cache-Control\n  | Content-Language\n  | Content-Type\n  | Expires\n  | Last-Modified\n  | Pragma\n  |\n  | In order to add more headers, simply define them inside the following array.\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers\n  |\n  */\n  exposeHeaders: [\n    'cache-control',\n    'content-language',\n    'content-type',\n    'expires',\n    'last-modified',\n    'pragma',\n  ],\n\n  /*\n  |--------------------------------------------------------------------------\n  | Credentials\n  |--------------------------------------------------------------------------\n  |\n  | Toggle `Access-Control-Allow-Credentials` header. If value is set to `true`,\n  | then header will be set, otherwise not.\n  |\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\n  |\n  */\n  credentials: true,\n\n  /*\n  |--------------------------------------------------------------------------\n  | MaxAge\n  |--------------------------------------------------------------------------\n  |\n  | Define `Access-Control-Max-Age` header in seconds.\n  | https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age\n  |\n  */\n  maxAge: 90,\n}\n\nexport default corsConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"444a4e38028207b0d2eb8985e6d11b92202a50a9","contentHash":"2523394bab5ee9d71855f1dfb1930e083c722f4016149cbb5a76a3e61269cc59"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\database.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\database.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":23},"end":{"line":24,"column":1}},"5":{"start":{"line":25,"column":0},"end":{"line":25,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"database.js","sourceRoot":"","sources":["database.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AAItC,MAAM,cAAc,GAAiD;IAWnE,UAAU,EAAE,aAAG,CAAC,GAAG,CAAC,eAAe,CAAC;IAEpC,WAAW,EAAE;QAYX,EAAE,EAAE;YACF,MAAM,EAAE,IAAI;YACZ,UAAU,EAAE;gBACV,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;gBACxB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;gBACxB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,SAAS,CAAC;gBACxB,QAAQ,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,EAAE,EAAE,CAAC;gBACpC,QAAQ,EAAE,aAAG,CAAC,GAAG,CAAC,YAAY,CAAC;aAChC;YACD,WAAW,EAAE,KAAK;YACrB,KAAK,EAAE,KAAK;SACV;KAEF;IAcD,GAAG,EAAE,EACJ;CACF,CAAA;AAED,kBAAe,cAAc,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JesV9\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { OrmConfig } from '@ioc:Adonis/Lucid/Orm'\nimport { DatabaseConfig } from '@ioc:Adonis/Lucid/Database'\n\nconst databaseConfig: DatabaseConfig & { orm: Partial<OrmConfig> } = {\n  /*\n  |--------------------------------------------------------------------------\n  | Connection\n  |--------------------------------------------------------------------------\n  |\n  | The primary connection for making database queries across the application\n  | You can use any key from the `connections` object defined in this same\n  | file.\n  |\n  */\n  connection: Env.get('DB_CONNECTION'),\n\n  connections: {\n    /*\n    |--------------------------------------------------------------------------\n    | PostgreSQL config\n    |--------------------------------------------------------------------------\n    |\n    | Configuration for PostgreSQL database. Make sure to install the driver\n    | from npm when using this connection\n    |\n    | npm i pg\n    |\n    */\n    pg: {\n      client: 'pg',\n      connection: {\n        host: Env.get('PG_HOST'),\n        port: Env.get('PG_PORT'),\n        user: Env.get('PG_USER'),\n        password: Env.get('PG_PASSWORD', ''),\n        database: Env.get('PG_DB_NAME'),\n      },\n      healthCheck: false,\n\t\t\tdebug: false,\n    },\n\n  },\n\n  /*\n  |--------------------------------------------------------------------------\n  | ORM Configuration\n  |--------------------------------------------------------------------------\n  |\n  | Following are some of the configuration options to tweak the conventional\n  | settings of the ORM. For example:\n  |\n  | - Define a custom function to compute the default table name for a given model.\n  | - Or define a custom function to compute the primary key for a given model.\n  |\n  */\n  orm: {\n  },\n}\n\nexport default databaseConfig\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c9a8f78197602dd161f95c29ba61f87180ca1552","contentHash":"0fb606b93dfcc803a88590ec5df9860816601a4f4aec2dec5b35258bde8e890c"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\drive.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\drive.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":0},"end":{"line":20,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2]},"inputSourceMap":{"version":3,"file":"drive.js","sourceRoot":"","sources":["drive.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AACtC,wDAAyD;AACzD,gGAAsD;AAWtD,kBAAe,IAAA,oBAAW,EAAC;IAUzB,IAAI,EAAE,aAAG,CAAC,GAAG,CAAC,YAAY,CAAC;IAE3B,KAAK,EAAE;QAUL,KAAK,EAAE;YACL,MAAM,EAAE,OAAO;YACf,UAAU,EAAE,QAAQ;YAWpB,IAAI,EAAE,qBAAW,CAAC,OAAO,CAAC,SAAS,CAAC;YAYpC,UAAU,EAAE,IAAI;YAYhB,QAAQ,EAAE,UAAU;SACrB;KAmEF;CACF,CAAC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JBt3o\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { driveConfig } from '@adonisjs/core/build/config'\nimport Application from '@ioc:Adonis/Core/Application'\n\n/*\n|--------------------------------------------------------------------------\n| Drive Config\n|--------------------------------------------------------------------------\n|\n| The `DriveConfig` relies on the `DisksList` interface which is\n| defined inside the `contracts` directory.\n|\n*/\nexport default driveConfig({\n  /*\n  |--------------------------------------------------------------------------\n  | Default disk\n  |--------------------------------------------------------------------------\n  |\n  | The default disk to use for managing file uploads. The value is driven by\n  | the `DRIVE_DISK` environment variable.\n  |\n  */\n  disk: Env.get('DRIVE_DISK'),\n\n  disks: {\n    /*\n    |--------------------------------------------------------------------------\n    | Local\n    |--------------------------------------------------------------------------\n    |\n    | Uses the local file system to manage files. Make sure to turn off serving\n    | files when not using this disk.\n    |\n    */\n    local: {\n      driver: 'local',\n      visibility: 'public',\n\n      /*\n      |--------------------------------------------------------------------------\n      | Storage root - Local driver only\n      |--------------------------------------------------------------------------\n      |\n      | Define an absolute path to the storage directory from where to read the\n      | files.\n      |\n      */\n      root: Application.tmpPath('uploads'),\n\n      /*\n      |--------------------------------------------------------------------------\n      | Serve files - Local driver only\n      |--------------------------------------------------------------------------\n      |\n      | When this is set to true, AdonisJS will configure a files server to serve\n      | files from the disk root. This is done to mimic the behavior of cloud\n      | storage services that has inbuilt capabilities to serve files.\n      |\n      */\n      serveFiles: true,\n\n      /*\n      |--------------------------------------------------------------------------\n      | Base path - Local driver only\n      |--------------------------------------------------------------------------\n      |\n      | Base path is always required when \"serveFiles = true\". Also make sure\n      | the `basePath` is unique across all the disks using \"local\" driver and\n      | you are not registering routes with this prefix.\n      |\n      */\n      basePath: '/uploads',\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | S3 Driver\n    |--------------------------------------------------------------------------\n    |\n    | Uses the S3 cloud storage to manage files. Make sure to install the s3\n    | drive separately when using it.\n    |\n    |**************************************************************************\n    | npm i @adonisjs/drive-s3\n    |**************************************************************************\n    |\n    */\n    // s3: {\n    //   driver: 's3',\n    //   visibility: 'public',\n    //   key: Env.get('S3_KEY'),\n    //   secret: Env.get('S3_SECRET'),\n    //   region: Env.get('S3_REGION'),\n    //   bucket: Env.get('S3_BUCKET'),\n    //   endpoint: Env.get('S3_ENDPOINT'),\n    //\n    //  // For minio to work\n    //  // forcePathStyle: true,\n    // },\n\n    /*\n    |--------------------------------------------------------------------------\n    | GCS Driver\n    |--------------------------------------------------------------------------\n    |\n    | Uses the Google cloud storage to manage files. Make sure to install the GCS\n    | drive separately when using it.\n    |\n    |**************************************************************************\n    | npm i @adonisjs/drive-gcs\n    |**************************************************************************\n    |\n    */\n    // gcs: {\n    //   driver: 'gcs',\n    //   visibility: 'public',\n    //   keyFilename: Env.get('GCS_KEY_FILENAME'),\n    //   bucket: Env.get('GCS_BUCKET'),\n\n      /*\n      |--------------------------------------------------------------------------\n      | Uniform ACL - Google cloud storage only\n      |--------------------------------------------------------------------------\n      |\n      | When using the Uniform ACL on the bucket, the \"visibility\" option is\n      | ignored. Since, the files ACL is managed by the google bucket policies\n      | directly.\n      |\n      |**************************************************************************\n      | Learn more: https://cloud.google.com/storage/docs/uniform-bucket-level-access\n      |**************************************************************************\n      |\n      | The following option just informs drive whether your bucket is using uniform\n      | ACL or not. The actual setting needs to be toggled within the Google cloud\n      | console.\n      |\n      */\n    //   usingUniformAcl: false,\n    // },\n  },\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b0c1afa9ea599904f6336715475ca92a51f2885a","contentHash":"33b103dd0504ed27599f1e47601025c70828342ef85953653f9d7f62385df9ac"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\hash.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\config\\hash.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":79}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":0},"end":{"line":33,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"hash.js","sourceRoot":"","sources":["hash.ts"],"names":[],"mappings":";;;;;AAOA,gFAAsC;AACtC,wDAAwD;AAWxD,kBAAe,IAAA,mBAAU,EAAC;IAUxB,OAAO,EAAE,aAAG,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC;IAEzC,IAAI,EAAE;QAcJ,MAAM,EAAE;YACN,MAAM,EAAE,QAAQ;YAChB,IAAI,EAAE,KAAK;YACX,SAAS,EAAE,CAAC;YACZ,eAAe,EAAE,CAAC;YAClB,QAAQ,EAAE,EAAE;YACZ,SAAS,EAAE,EAAE;YACb,SAAS,EAAE,EAAE,GAAG,IAAI,GAAG,IAAI;SAC5B;QAeD,KAAK,EAAE;YACL,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,IAAI;YACb,UAAU,EAAE,CAAC;YACb,MAAM,EAAE,IAAI;YACZ,WAAW,EAAE,CAAC;YACd,QAAQ,EAAE,EAAE;SACb;QAeD,MAAM,EAAE;YACN,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,EAAE;SACX;KACF;CACF,CAAC,CAAA","sourcesContent":["/**\n * Config source: https://git.io/JfefW\n *\n * Feel free to let us know via PR, if you find something broken in this config\n * file.\n */\n\nimport Env from '@ioc:Adonis/Core/Env'\nimport { hashConfig } from '@adonisjs/core/build/config'\n\n/*\n|--------------------------------------------------------------------------\n| Hash Config\n|--------------------------------------------------------------------------\n|\n| The `HashConfig` relies on the `HashList` interface which is\n| defined inside `contracts` directory.\n|\n*/\nexport default hashConfig({\n  /*\n  |--------------------------------------------------------------------------\n  | Default hasher\n  |--------------------------------------------------------------------------\n  |\n  | By default we make use of the argon hasher to hash values. However, feel\n  | free to change the default value\n  |\n  */\n  default: Env.get('HASH_DRIVER', 'scrypt'),\n\n  list: {\n    /*\n    |--------------------------------------------------------------------------\n    | scrypt\n    |--------------------------------------------------------------------------\n    |\n    | Scrypt mapping uses the Node.js inbuilt crypto module for creating\n    | hashes.\n    |\n    | We are using the default configuration recommended within the Node.js\n    | documentation.\n    | https://nodejs.org/api/crypto.html#cryptoscryptpassword-salt-keylen-options-callback\n    |\n    */\n    scrypt: {\n      driver: 'scrypt',\n      cost: 16384,\n      blockSize: 8,\n      parallelization: 1,\n      saltSize: 16,\n      keyLength: 64,\n      maxMemory: 32 * 1024 * 1024,\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Argon\n    |--------------------------------------------------------------------------\n    |\n    | Argon mapping uses the `argon2` driver to hash values.\n    |\n    | Make sure you install the underlying dependency for this driver to work.\n    | https://www.npmjs.com/package/phc-argon2.\n    |\n    | npm install phc-argon2\n    |\n    */\n    argon: {\n      driver: 'argon2',\n      variant: 'id',\n      iterations: 3,\n      memory: 4096,\n      parallelism: 1,\n      saltSize: 16,\n    },\n\n    /*\n    |--------------------------------------------------------------------------\n    | Bcrypt\n    |--------------------------------------------------------------------------\n    |\n    | Bcrypt mapping uses the `bcrypt` driver to hash values.\n    |\n    | Make sure you install the underlying dependency for this driver to work.\n    | https://www.npmjs.com/package/phc-bcrypt.\n    |\n    | npm install phc-bcrypt\n    |\n    */\n    bcrypt: {\n      driver: 'bcrypt',\n      rounds: 10,\n    },\n  },\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1a7faf15d722bc5819e5693631b708d51b5df047","contentHash":"0d541246d1c76846f82c1cfd53cccd7f840c1a7a803b13287b07c381420ff909"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\providers\\AppProvider.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\providers\\AppProvider.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":21},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":15},"end":{"line":8,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":17},"end":{"line":10,"column":5}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":12,"column":5}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":21},"end":{"line":14,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1},"b":{},"inputSourceMap":{"version":3,"file":"AppProvider.js","sourceRoot":"","sources":["AppProvider.ts"],"names":[],"mappings":";;AAEA,MAAqB,WAAW;IAC9B,YAAuB,GAAwB;QAAxB,QAAG,GAAH,GAAG,CAAqB;IAC/C,CAAC;IAEM,QAAQ;IAEf,CAAC;IAEM,KAAK,CAAC,IAAI;IAEjB,CAAC;IAEM,KAAK,CAAC,KAAK;IAElB,CAAC;IAEM,KAAK,CAAC,QAAQ;IAErB,CAAC;CACF;AAnBD,8BAmBC","sourcesContent":["import type { ApplicationContract } from '@ioc:Adonis/Core/Application'\n\nexport default class AppProvider {\n  constructor (protected app: ApplicationContract) {\n  }\n\n  public register () {\n    // Register your own bindings\n  }\n\n  public async boot () {\n    // IoC container is ready\n  }\n\n  public async ready () {\n    // App is ready\n  }\n\n  public async shutdown () {\n    // Cleanup, since app is going down\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d47e9832bed30b33c169ec18cfdb83dde4bda3a","contentHash":"64cc5d798c7760e2e1de4883b980e2fb2a631934f7f293246e1968b2daf3ce03"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\start\\routes.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\start\\routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":16},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":22}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":30}},"6":{"start":{"line":10,"column":0},"end":{"line":34,"column":21}},"7":{"start":{"line":11,"column":4},"end":{"line":14,"column":7}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":79}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":64}},"10":{"start":{"line":15,"column":4},"end":{"line":33,"column":26}},"11":{"start":{"line":16,"column":8},"end":{"line":20,"column":51}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":75}},"13":{"start":{"line":18,"column":12},"end":{"line":18,"column":77}},"14":{"start":{"line":19,"column":12},"end":{"line":19,"column":75}},"15":{"start":{"line":21,"column":8},"end":{"line":28,"column":56}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":82}},"17":{"start":{"line":23,"column":12},"end":{"line":23,"column":93}},"18":{"start":{"line":24,"column":12},"end":{"line":24,"column":86}},"19":{"start":{"line":25,"column":12},"end":{"line":25,"column":96}},"20":{"start":{"line":26,"column":12},"end":{"line":26,"column":87}},"21":{"start":{"line":27,"column":12},"end":{"line":27,"column":84}},"22":{"start":{"line":29,"column":8},"end":{"line":32,"column":53}},"23":{"start":{"line":30,"column":12},"end":{"line":30,"column":77}},"24":{"start":{"line":31,"column":12},"end":{"line":31,"column":81}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":25},"end":{"line":7,"column":26}},"loc":{"start":{"line":7,"column":37},"end":{"line":9,"column":1}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":22},"end":{"line":10,"column":23}},"loc":{"start":{"line":10,"column":28},"end":{"line":34,"column":1}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":26},"end":{"line":11,"column":27}},"loc":{"start":{"line":11,"column":32},"end":{"line":14,"column":5}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":26},"end":{"line":15,"column":27}},"loc":{"start":{"line":15,"column":32},"end":{"line":33,"column":5}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":16,"column":30},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":36},"end":{"line":20,"column":9}},"line":16},"6":{"name":"(anonymous_6)","decl":{"start":{"line":21,"column":30},"end":{"line":21,"column":31}},"loc":{"start":{"line":21,"column":36},"end":{"line":28,"column":9}},"line":21},"7":{"name":"(anonymous_7)","decl":{"start":{"line":29,"column":30},"end":{"line":29,"column":31}},"loc":{"start":{"line":29,"column":36},"end":{"line":32,"column":9}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1},"f":{"0":1,"1":0,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"routes.js","sourceRoot":"","sources":["routes.ts"],"names":[],"mappings":";;;;;AAoBA,oFAA0C;AAE1C,eAAK,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,IAAI,EAAE;IACxB,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,CAAA;AAC3B,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;AAErB,eAAK,CAAC,KAAK,CAAC,GAAE,EAAE;IACd,eAAK,CAAC,KAAK,CAAC,GAAE,EAAE;QACd,eAAK,CAAC,IAAI,CAAC,gBAAgB,EAAC,8BAA8B,CAAC,CAAA;QAC3D,eAAK,CAAC,IAAI,CAAC,QAAQ,EAAC,uBAAuB,CAAC,CAAA;IAC9C,CAAC,CAAC,CAAA;IAEF,eAAK,CAAC,KAAK,CAAC,GAAE,EAAE;QAEd,eAAK,CAAC,KAAK,CAAC,GAAE,EAAE;YACd,eAAK,CAAC,IAAI,CAAC,WAAW,EAAC,2BAA2B,CAAC,CAAA;YACnD,eAAK,CAAC,GAAG,CAAC,aAAa,EAAC,4BAA4B,CAAC,CAAA;YACrD,eAAK,CAAC,GAAG,CAAC,cAAc,EAAC,yBAAyB,CAAC,CAAA;QAErD,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,CAAA;QAgB1C,eAAK,CAAC,KAAK,CAAC,GAAE,EAAE;YACd,eAAK,CAAC,IAAI,CAAC,SAAS,EAAC,oCAAoC,CAAC,CAAA;YAC1D,eAAK,CAAC,GAAG,CAAC,qBAAqB,EAAC,oCAAoC,CAAC,CAAA;YACrE,eAAK,CAAC,GAAG,CAAC,gBAAgB,EAAC,kCAAkC,CAAC,CAAA;YAC9D,eAAK,CAAC,MAAM,CAAC,qBAAqB,EAAC,oCAAoC,CAAC,CAAA;YACxE,eAAK,CAAC,GAAG,CAAC,mBAAmB,EAAC,gCAAgC,CAAC,CAAA;YAC/D,eAAK,CAAC,GAAG,CAAC,iBAAiB,EAAC,+BAA+B,CAAC,CAAA;QAC9D,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,CAAA;QAE/C,eAAK,CAAC,KAAK,CAAC,GAAE,EAAE;YACd,eAAK,CAAC,GAAG,CAAC,eAAe,EAAC,0BAA0B,CAAC,CAAA;YACrD,eAAK,CAAC,IAAI,CAAC,gBAAgB,EAAC,4BAA4B,CAAC,CAAA;QAC3D,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC,aAAa,CAAC,CAAA;IAE9C,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;AAEvB,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Routes\n|--------------------------------------------------------------------------\n|\n| This file is dedicated for defining HTTP routes. A single file is enough\n| for majority of projects, however you can define routes in different\n| files and just make sure to import them inside this file. For example\n|\n| Define routes in following two files\n|  start/routes/cart.ts\n|  start/routes/customer.ts\n|\n| and then import them inside `start/routes.ts` as follows\n|\n| import './routes/cart'\n| import './routes/customer'\n|\n*/\n\nimport Route from '@ioc:Adonis/Core/Route'\n\nRoute.get('/', async () => {\n  return { hello: 'world' }\n}).middleware('auth')\n\nRoute.group(()=>{\n  Route.group(()=>{\n    Route.post('/user/register','UsersController.registerUser')\n    Route.post('/login','UsersController.login')\n  })\n\n  Route.group(()=>{\n    \n    Route.group(()=>{\n      Route.post('/getUsers','UsersController.listUsers')\n      Route.put('/update/:id','UsersController.updateUser')\n      Route.get('/getUser/:id','UsersController.getUser')\n      //Route.delete('/delete/:id','UsersController.deleteUser')\n    }).prefix('/user').middleware('adminAuth')\n  \n    // Route.group(()=>{\n    //   Route.post('/create','TypesDocumentsController.registerTypeDocument')\n    //   // Route.get('/getTypeDocuments','TypesDocumentsController.listTypeDocuments')\n    //   // Route.put('/update/:id','TypesDocumentsController.updateTypeDocument')\n    //   // Route.delete('/delete/:id','TypesDocumentsController.deleteTypeDocument')\n    // }).prefix('/typeDocuments').middleware('adminAuth')\n  \n    // Route.group(()=>{\n    //   Route.post('/create','RolesController.registerRole')\n    //   // Route.get('/getRoles','RolesController.listRoles')\n    //   // Route.put('/update/:id','RolesController.updateRole')\n    //   // Route.delete('/delete/:id','RolesController.deleteRole')\n    // }).prefix('/roles').middleware('adminAuth')\n\n    Route.group(()=>{\n      Route.post('/create','QuestionsController.createQuestion')\n      Route.put('/updateQuestion/:id','QuestionsController.updateQuestion')\n      Route.get('/getQuestions/','QuestionsController.getQuestions')\n      Route.delete('/deleteQuestion/:id','QuestionsController.deleteQuestion')\n      Route.put('/updateAnswer/:id','AnswersController.updateAnswer')\n      Route.get('/getOptions/:id','AnswersController.listAnswers')\n    }).prefix('/questions').middleware('adminAuth')\n    \n    Route.group(()=>{\n      Route.get('/getquestions','FormsController.listForm')\n      Route.post('/postquestions','FormsController.createForm')\n    }).prefix('/form').middleware('studentAuth')\n\n  }).middleware('auth')\n\n}).prefix('/api/v1')\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9756147336ee4363fae9c540ded31ab91e122a06","contentHash":"4144f3089b011c5a6a5c495bb3a73c936dee43deecc5d3778fc7f7e520d29169"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\start\\kernel.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\start\\kernel.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":17},"end":{"line":29,"column":85}},"28":{"start":{"line":30,"column":0},"end":{"line":32,"column":3}},"29":{"start":{"line":31,"column":10},"end":{"line":31,"column":109}},"30":{"start":{"line":31,"column":39},"end":{"line":31,"column":108}},"31":{"start":{"line":33,"column":0},"end":{"line":37,"column":3}},"32":{"start":{"line":34,"column":16},"end":{"line":34,"column":115}},"33":{"start":{"line":34,"column":45},"end":{"line":34,"column":114}},"34":{"start":{"line":35,"column":21},"end":{"line":35,"column":122}},"35":{"start":{"line":35,"column":50},"end":{"line":35,"column":121}},"36":{"start":{"line":36,"column":23},"end":{"line":36,"column":126}},"37":{"start":{"line":36,"column":52},"end":{"line":36,"column":125}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":10},"end":{"line":31,"column":109}},"line":31},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":33},"end":{"line":31,"column":34}},"loc":{"start":{"line":31,"column":39},"end":{"line":31,"column":108}},"line":31},"9":{"name":"(anonymous_9)","decl":{"start":{"line":34,"column":10},"end":{"line":34,"column":11}},"loc":{"start":{"line":34,"column":16},"end":{"line":34,"column":115}},"line":34},"10":{"name":"(anonymous_10)","decl":{"start":{"line":34,"column":39},"end":{"line":34,"column":40}},"loc":{"start":{"line":34,"column":45},"end":{"line":34,"column":114}},"line":34},"11":{"name":"(anonymous_11)","decl":{"start":{"line":35,"column":15},"end":{"line":35,"column":16}},"loc":{"start":{"line":35,"column":21},"end":{"line":35,"column":122}},"line":35},"12":{"name":"(anonymous_12)","decl":{"start":{"line":35,"column":44},"end":{"line":35,"column":45}},"loc":{"start":{"line":35,"column":50},"end":{"line":35,"column":121}},"line":35},"13":{"name":"(anonymous_13)","decl":{"start":{"line":36,"column":17},"end":{"line":36,"column":18}},"loc":{"start":{"line":36,"column":23},"end":{"line":36,"column":126}},"line":36},"14":{"name":"(anonymous_14)","decl":{"start":{"line":36,"column":46},"end":{"line":36,"column":47}},"loc":{"start":{"line":36,"column":52},"end":{"line":36,"column":125}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":42,"13":0,"14":1,"15":80,"16":38,"17":42,"18":42,"19":42,"20":0,"21":0,"22":42,"23":42,"24":1,"25":1,"26":1,"27":1,"28":1,"29":42,"30":42,"31":1,"32":19,"33":19,"34":17,"35":17,"36":2,"37":2},"f":{"0":0,"1":0,"2":0,"3":42,"4":0,"5":80,"6":1,"7":42,"8":42,"9":19,"10":19,"11":17,"12":17,"13":2,"14":2},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[38,42],"12":[80,80],"13":[42,0],"14":[0,0],"15":[0,0],"16":[1,1,1],"17":[0,1],"18":[1,1]},"inputSourceMap":{"version":3,"file":"kernel.js","sourceRoot":"","sources":["kernel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWA,sFAA4C;AAW5C,gBAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;IACzB,GAAG,EAAE,oGAAsC;CAC5C,CAAC,CAAA;AAkBF,gBAAM,CAAC,UAAU,CAAC,aAAa,CAAC;IAC9B,IAAI,EAAE,GAAG,EAAE,yEAAQ,wBAAwB,GAAC;IAC5C,SAAS,EAAC,GAAG,EAAE,yEAAQ,0BAA0B,GAAC;IAClD,WAAW,EAAC,GAAG,EAAE,yEAAQ,4BAA4B,GAAC;CACvD,CAAC,CAAA","sourcesContent":["/*\n|--------------------------------------------------------------------------\n| Application middleware\n|--------------------------------------------------------------------------\n|\n| This file is used to define middleware for HTTP requests. You can register\n| middleware as a `closure` or an IoC container binding. The bindings are\n| preferred, since they keep this file clean.\n|\n*/\n\nimport Server from '@ioc:Adonis/Core/Server'\n\n/*\n|--------------------------------------------------------------------------\n| Global middleware\n|--------------------------------------------------------------------------\n|\n| An array of global middleware, that will be executed in the order they\n| are defined for every HTTP requests.\n|\n*/\nServer.middleware.register([\n  () => import('@ioc:Adonis/Core/BodyParser'),\n])\n\n/*\n|--------------------------------------------------------------------------\n| Named middleware\n|--------------------------------------------------------------------------\n|\n| Named middleware are defined as key-value pair. The value is the namespace\n| or middleware function and key is the alias. Later you can use these\n| alias on individual routes. For example:\n|\n| { auth: () => import('App/Middleware/Auth') }\n|\n| and then use it as follows\n|\n| Route.get('dashboard', 'UserController.dashboard').middleware('auth')\n|\n*/\nServer.middleware.registerNamed({\n  auth: () => import('App/Middleware/AuthJwt'),\n  adminAuth:() => import('App/Middleware/AdminAuth'),\n  studentAuth:() => import('App/Middleware/StudentAuth')\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e3afe222a57e16f3aa94f09a1793fa187b03a188","contentHash":"f30fdf9fdb63939c49be1b74e280bb41a7df99c3292945df2729a030a865868c"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\UsersController.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\UsersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":80}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":63}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":79}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":36}},"7":{"start":{"line":12,"column":125},"end":{"line":12,"column":138}},"8":{"start":{"line":13,"column":8},"end":{"line":37,"column":9}},"9":{"start":{"line":14,"column":31},"end":{"line":14,"column":74}},"10":{"start":{"line":15,"column":12},"end":{"line":16,"column":99}},"11":{"start":{"line":16,"column":16},"end":{"line":16,"column":99}},"12":{"start":{"line":17,"column":30},"end":{"line":17,"column":92}},"13":{"start":{"line":18,"column":12},"end":{"line":19,"column":113}},"14":{"start":{"line":19,"column":16},"end":{"line":19,"column":113}},"15":{"start":{"line":20,"column":25},"end":{"line":20,"column":45}},"16":{"start":{"line":21,"column":12},"end":{"line":21,"column":40}},"17":{"start":{"line":22,"column":12},"end":{"line":22,"column":42}},"18":{"start":{"line":23,"column":12},"end":{"line":23,"column":35}},"19":{"start":{"line":24,"column":12},"end":{"line":24,"column":48}},"20":{"start":{"line":25,"column":12},"end":{"line":25,"column":48}},"21":{"start":{"line":26,"column":12},"end":{"line":26,"column":50}},"22":{"start":{"line":27,"column":12},"end":{"line":27,"column":31}},"23":{"start":{"line":28,"column":12},"end":{"line":28,"column":31}},"24":{"start":{"line":29,"column":12},"end":{"line":29,"column":56}},"25":{"start":{"line":30,"column":12},"end":{"line":30,"column":30}},"26":{"start":{"line":31,"column":12},"end":{"line":32,"column":111}},"27":{"start":{"line":32,"column":16},"end":{"line":32,"column":111}},"28":{"start":{"line":35,"column":12},"end":{"line":35,"column":31}},"29":{"start":{"line":36,"column":12},"end":{"line":36,"column":100}},"30":{"start":{"line":40,"column":22},"end":{"line":40,"column":44}},"31":{"start":{"line":41,"column":25},"end":{"line":41,"column":50}},"32":{"start":{"line":42,"column":8},"end":{"line":73,"column":9}},"33":{"start":{"line":43,"column":25},"end":{"line":43,"column":68}},"34":{"start":{"line":44,"column":12},"end":{"line":45,"column":104}},"35":{"start":{"line":45,"column":16},"end":{"line":45,"column":104}},"36":{"start":{"line":46,"column":35},"end":{"line":46,"column":80}},"37":{"start":{"line":47,"column":12},"end":{"line":48,"column":112}},"38":{"start":{"line":48,"column":16},"end":{"line":48,"column":112}},"39":{"start":{"line":49,"column":28},"end":{"line":60,"column":13}},"40":{"start":{"line":61,"column":26},"end":{"line":61,"column":52}},"41":{"start":{"line":62,"column":12},"end":{"line":68,"column":15}},"42":{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},"43":{"start":{"line":72,"column":12},"end":{"line":72,"column":93}},"44":{"start":{"line":76,"column":25},"end":{"line":78,"column":9}},"45":{"start":{"line":79,"column":8},"end":{"line":79,"column":99}},"46":{"start":{"line":82,"column":20},"end":{"line":82,"column":53}},"47":{"start":{"line":83,"column":8},"end":{"line":87,"column":11}},"48":{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},"49":{"start":{"line":85,"column":16},"end":{"line":85,"column":50}},"50":{"start":{"line":88,"column":8},"end":{"line":88,"column":20}},"51":{"start":{"line":91,"column":24},"end":{"line":91,"column":48}},"52":{"start":{"line":92,"column":21},"end":{"line":92,"column":42}},"53":{"start":{"line":93,"column":23},"end":{"line":93,"column":46}},"54":{"start":{"line":94,"column":8},"end":{"line":108,"column":9}},"55":{"start":{"line":95,"column":26},"end":{"line":95,"column":252}},"56":{"start":{"line":96,"column":12},"end":{"line":100,"column":15}},"57":{"start":{"line":103,"column":12},"end":{"line":103,"column":31}},"58":{"start":{"line":104,"column":12},"end":{"line":107,"column":15}},"59":{"start":{"line":111,"column":19},"end":{"line":111,"column":38}},"60":{"start":{"line":112,"column":21},"end":{"line":112,"column":50}},"61":{"start":{"line":113,"column":8},"end":{"line":127,"column":9}},"62":{"start":{"line":114,"column":114},"end":{"line":114,"column":127}},"63":{"start":{"line":115,"column":12},"end":{"line":115,"column":40}},"64":{"start":{"line":116,"column":12},"end":{"line":116,"column":42}},"65":{"start":{"line":117,"column":12},"end":{"line":117,"column":35}},"66":{"start":{"line":118,"column":12},"end":{"line":118,"column":48}},"67":{"start":{"line":119,"column":12},"end":{"line":119,"column":48}},"68":{"start":{"line":120,"column":12},"end":{"line":120,"column":50}},"69":{"start":{"line":121,"column":12},"end":{"line":121,"column":31}},"70":{"start":{"line":122,"column":12},"end":{"line":122,"column":31}},"71":{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},"72":{"start":{"line":124,"column":16},"end":{"line":124,"column":116}},"73":{"start":{"line":126,"column":12},"end":{"line":126,"column":109}},"74":{"start":{"line":128,"column":8},"end":{"line":128,"column":97}},"75":{"start":{"line":131,"column":19},"end":{"line":131,"column":38}},"76":{"start":{"line":132,"column":21},"end":{"line":132,"column":50}},"77":{"start":{"line":133,"column":8},"end":{"line":147,"column":9}},"78":{"start":{"line":134,"column":12},"end":{"line":143,"column":15}},"79":{"start":{"line":146,"column":12},"end":{"line":146,"column":101}},"80":{"start":{"line":150,"column":0},"end":{"line":150,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":46},"end":{"line":38,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":39},"end":{"line":74,"column":5}},"line":39},"3":{"name":"(anonymous_3)","decl":{"start":{"line":75,"column":4},"end":{"line":75,"column":5}},"loc":{"start":{"line":75,"column":26},"end":{"line":80,"column":5}},"line":75},"4":{"name":"(anonymous_4)","decl":{"start":{"line":81,"column":4},"end":{"line":81,"column":5}},"loc":{"start":{"line":81,"column":40},"end":{"line":89,"column":5}},"line":81},"5":{"name":"(anonymous_5)","decl":{"start":{"line":83,"column":82},"end":{"line":83,"column":83}},"loc":{"start":{"line":83,"column":93},"end":{"line":87,"column":9}},"line":83},"6":{"name":"(anonymous_6)","decl":{"start":{"line":90,"column":4},"end":{"line":90,"column":5}},"loc":{"start":{"line":90,"column":43},"end":{"line":109,"column":5}},"line":90},"7":{"name":"(anonymous_7)","decl":{"start":{"line":110,"column":4},"end":{"line":110,"column":5}},"loc":{"start":{"line":110,"column":44},"end":{"line":129,"column":5}},"line":110},"8":{"name":"(anonymous_8)","decl":{"start":{"line":130,"column":4},"end":{"line":130,"column":5}},"loc":{"start":{"line":130,"column":41},"end":{"line":148,"column":5}},"line":130}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":15,"column":12},"end":{"line":16,"column":99}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":16,"column":99}},{"start":{"line":15,"column":12},"end":{"line":16,"column":99}}],"line":15},"4":{"loc":{"start":{"line":18,"column":12},"end":{"line":19,"column":113}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":19,"column":113}},{"start":{"line":18,"column":12},"end":{"line":19,"column":113}}],"line":18},"5":{"loc":{"start":{"line":31,"column":12},"end":{"line":32,"column":111}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":32,"column":111}},{"start":{"line":31,"column":12},"end":{"line":32,"column":111}}],"line":31},"6":{"loc":{"start":{"line":44,"column":12},"end":{"line":45,"column":104}},"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":45,"column":104}},{"start":{"line":44,"column":12},"end":{"line":45,"column":104}}],"line":44},"7":{"loc":{"start":{"line":47,"column":12},"end":{"line":48,"column":112}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":48,"column":112}},{"start":{"line":47,"column":12},"end":{"line":48,"column":112}}],"line":47},"8":{"loc":{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},{"start":{"line":84,"column":12},"end":{"line":86,"column":13}}],"line":84},"9":{"loc":{"start":{"line":113,"column":8},"end":{"line":127,"column":9}},"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":127,"column":9}},{"start":{"line":113,"column":8},"end":{"line":127,"column":9}}],"line":113},"10":{"loc":{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},{"start":{"line":123,"column":12},"end":{"line":125,"column":13}}],"line":123},"11":{"loc":{"start":{"line":133,"column":8},"end":{"line":147,"column":9}},"type":"if","locations":[{"start":{"line":133,"column":8},"end":{"line":147,"column":9}},{"start":{"line":133,"column":8},"end":{"line":147,"column":9}}],"line":133}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":0,"30":21,"31":21,"32":21,"33":21,"34":21,"35":0,"36":21,"37":21,"38":0,"39":21,"40":21,"41":21,"42":0,"43":0,"44":21,"45":21,"46":19,"47":19,"48":19,"49":0,"50":19,"51":2,"52":2,"53":2,"54":2,"55":2,"56":1,"57":1,"58":1,"59":2,"60":2,"61":2,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":0,"74":1,"75":2,"76":2,"77":2,"78":1,"79":1,"80":1},"f":{"0":3,"1":2,"2":21,"3":21,"4":19,"5":19,"6":2,"7":2,"8":2},"b":{"0":[1,1,1],"1":[1,2],"2":[3,3],"3":[1,1],"4":[0,1],"5":[1,0],"6":[0,21],"7":[0,21],"8":[0,19],"9":[1,1],"10":[1,0],"11":[1,1]},"inputSourceMap":{"version":3,"file":"UsersController.js","sourceRoot":"","sources":["UsersController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport User from 'App/Models/User';\nimport jwt from 'jsonwebtoken';\nimport Env from \"@ioc:Adonis/Core/Env\";\n\n\nconst bcryptjs = require('bcryptjs');\n\nexport default class UsersController {\n    public async registerUser({request,response}:HttpContextContract){\n        const {firstName,secondName,surname,secondSurName,typeDocument,documentNumber,email,phone,password,rol}=request.all();\n        try{\n            const emailExist = await User.findBy('email',email);\n            if(emailExist) return response.status(400).json({\"state\":false,\"message\":\"Email existente\"});\n            const docuExist = await User.findBy('document_number',documentNumber);\n            if(docuExist) return response.status(400).json({\"state\":false,\"message\":\"Numero de documento existente\"});\n            \n            const user = new User();\n            user.first_name=firstName;\n            user.second_name=secondName;\n            user.surname=surname;\n            user.second_surname=secondSurName;\n            user.id_typeDocument=typeDocument;\n            user.document_number=documentNumber;\n            user.email=email;\n            user.phone=phone;\n            user.password=bcryptjs.hashSync(password);\n            user.id_rol=rol;\n            if(await user.save()) return response.status(200).json({\"state\":true,\"message\":\"Usuario creado correctamente\"});\n        }catch(error){\n            console.log(error);\n            return response.status(400).json({\"state\":false,\"message\":\"Error en el servidor\"})\n        }\n    }\n\n    public async login({request,response}:HttpContextContract){\n        const email = request.input('email');\n        const password = request.input('password');\n        try{\n            const user = await User.findBy('email',email);\n            if(!user) return response.status(400).json({\"state\":false,\"message\":\"El usuario no existe\"})\n            \n            const validaPassword = bcryptjs.compareSync(password,user.password);\n            if(!validaPassword) return response.status(400).json({\"state\":false,\"message\":\"Constrasea o email invalido\"})\n            \n            const payload ={\n                \"id\":user.id_user,\n                \"firstName\": user.first_name,\n                \"secondName\": user.second_name,\n                \"surname\": user.surname,\n                \"secondSurName\": user.second_surname,\n                \"typeDocument\": user.id_typeDocument,\n                \"documentNumber\": user.document_number,\n                \"email\": user.email,\n                \"phone\": user.phone,\n                \"role\":user.id_rol\n            }\n            const token:string = this.generarToken(payload);\n            response.status(200).json({\n                \"state\":true,\n                \"id\":user.id_user,\n                \"name\":`${user.first_name} ${user.second_name} ${user.surname} ${user.second_name}`,\n                \"message\":\"Ingreso exitoso\",\n                token\n            })\n        }catch(error){\n            console.log(error);\n            response.status(400).json({\"state\":false,\"message\":\"Error en el servidor\"})\n        }\n    }\n\n    private generarToken(payload: any):string{\n        const opciones ={\n            expiresIn:\"30 min\"\n        }\n        return jwt.sign(payload,Env.get('JWT_SECRET_KEY'),opciones)\n    }\n\n    public verificarToken(authorizationHeader:string){\n        let token = authorizationHeader.split(' ')[1];\n        jwt.verify(token,Env.get('JWT_SECRET_KEY'),(error:any)=>{\n            if(error){\n                throw new Error(\"Token expirado\")\n            }\n        })\n        return true;\n    }\n\n    public async listUsers({request,response}:HttpContextContract){\n        const perPage = request.input('perPage');\n        const page = request.input('page');\n        const filter = request.input('filter');\n        try{\n            const users = await User.query().select( \n            'first_name',\n            'second_name',\n            'surname',\n            'second_surname',\n            'id_type_document',\n            'document_number',\n            'email',\n            'phone'\n            ).where(filter).where('id_rol',2).orderBy('id_user').paginate(page,perPage);\n            response.status(200).json({\n                \"state\":true,\n                \"message\":\"Listado de estuidantes\",\n                users:users.toJSON().data\n            })\n        }catch(error){\n            console.log(error)\n            response.status(400).json({\n                \"state\":false,\n                \"message\":\"Fallo en el listado de estudiantes\",\n            })\n        }\n    }\n\n    public async updateUser({request,response}:HttpContextContract){\n        const id = request.param('id');\n        const user = await User.find(id);\n        if(user){\n            const {firstName,secondName,surname,secondSurname,typeDocument,documentNumber,email,phone}=request.all();\n            user.first_name=firstName;\n            user.second_name=secondName;\n            user.surname=surname;\n            user.second_surname=secondSurname;\n            user.id_typeDocument=typeDocument;\n            user.document_number=documentNumber;\n            user.email=email;\n            user.phone=phone;\n            if(await user.save()){\n                return response.status(200).json({\"state\":true,\"message\":\"Usuario actualizado correctamente\"}) \n            }\n            return response.status(400).json({\"state\":false,\"message\":\"Usuario no se pudo actualizar\"}) \n        }\n        return response.status(404).json({\"state\":false,\"message\":\"Usuario no encontrado\"}) \n    }\n\n    public async getUser({request,response}:HttpContextContract){\n        const id = request.param('id');\n        const user = await User.find(id);\n        if(user){\n            return response.status(200).json({\n                \"firstName\": user.first_name,\n                \"secondName\": user.second_name,\n                \"surname\": user.surname,\n                \"secondSurName\": user.second_surname,\n                \"typeDocument\": user.id_typeDocument,\n                \"documentNumber\": user.document_number,\n                \"email\": user.email,\n                \"phone\": user.phone\n            }) \n        }else{\n            return response.status(404).json({\"state\":false,\"message\":\"Usuario no encontrado\"}) \n        }\n    }\n\n    // public async deleteUser({request,response}:HttpContextContract){\n    //     const id = request.param('id');\n    //     const user = await User.find(id);\n    //     if(user){\n    //         user.delete();\n    //         return response.status(200).json({\"state\":true,\"message\":\"Usuario eliminado correctamente\"}) \n    //     }else{\n    //         return response.status(404).json({\"state\":false,\"message\":\"Usuario no encontrado\"}) \n    //     }\n    // }\n\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2c68409527e02ec9b323aa7ca18f445877d07aa1","contentHash":"5e44bf7c5856947d1f0998770c7a2ebf4fab03d37bef8bcb37e72c30388f4b17"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\User.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\User.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":38}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":41}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":42}},"22":{"start":{"line":33,"column":0},"end":{"line":36,"column":38}},"23":{"start":{"line":37,"column":0},"end":{"line":40,"column":45}},"24":{"start":{"line":41,"column":0},"end":{"line":44,"column":46}},"25":{"start":{"line":45,"column":0},"end":{"line":48,"column":46}},"26":{"start":{"line":49,"column":0},"end":{"line":52,"column":36}},"27":{"start":{"line":53,"column":0},"end":{"line":56,"column":39}},"28":{"start":{"line":57,"column":0},"end":{"line":60,"column":37}},"29":{"start":{"line":61,"column":0},"end":{"line":64,"column":36}},"30":{"start":{"line":65,"column":0},"end":{"line":68,"column":36}},"31":{"start":{"line":69,"column":0},"end":{"line":75,"column":38}},"32":{"start":{"line":70,"column":29},"end":{"line":70,"column":43}},"33":{"start":{"line":76,"column":0},"end":{"line":79,"column":40}},"34":{"start":{"line":80,"column":0},"end":{"line":83,"column":40}},"35":{"start":{"line":84,"column":0},"end":{"line":84,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":70,"column":23},"end":{"line":70,"column":24}},"loc":{"start":{"line":70,"column":29},"end":{"line":70,"column":43}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":74,"column":30},"end":{"line":74,"column":126}},"type":"cond-expr","locations":[{"start":{"line":74,"column":115},"end":{"line":74,"column":117}},{"start":{"line":74,"column":120},"end":{"line":74,"column":126}}],"line":74},"17":{"loc":{"start":{"line":74,"column":43},"end":{"line":74,"column":96}},"type":"binary-expr","locations":[{"start":{"line":74,"column":43},"end":{"line":74,"column":79}},{"start":{"line":74,"column":83},"end":{"line":74,"column":96}}],"line":74},"18":{"loc":{"start":{"line":78,"column":30},"end":{"line":78,"column":132}},"type":"cond-expr","locations":[{"start":{"line":78,"column":121},"end":{"line":78,"column":123}},{"start":{"line":78,"column":126},"end":{"line":78,"column":132}}],"line":78},"19":{"loc":{"start":{"line":78,"column":43},"end":{"line":78,"column":102}},"type":"binary-expr","locations":[{"start":{"line":78,"column":43},"end":{"line":78,"column":82}},{"start":{"line":78,"column":86},"end":{"line":78,"column":102}}],"line":78},"20":{"loc":{"start":{"line":82,"column":30},"end":{"line":82,"column":132}},"type":"cond-expr","locations":[{"start":{"line":82,"column":121},"end":{"line":82,"column":123}},{"start":{"line":82,"column":126},"end":{"line":82,"column":132}}],"line":82},"21":{"loc":{"start":{"line":82,"column":43},"end":{"line":82,"column":102}},"type":"binary-expr","locations":[{"start":{"line":82,"column":43},"end":{"line":82,"column":82}},{"start":{"line":82,"column":86},"end":{"line":82,"column":102}}],"line":82}},"s":{"0":1,"1":15,"2":15,"3":15,"4":15,"5":0,"6":0,"7":0,"8":0,"9":15,"10":1,"11":15,"12":15,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":1,"34":1,"35":1},"f":{"0":15,"1":15,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,15],"2":[0,15],"3":[15,0],"4":[15,15],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[15,15,0],"10":[1,1,1],"11":[15,0],"12":[15,15],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[0,1],"17":[1,0],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1]},"inputSourceMap":{"version":3,"file":"User.js","sourceRoot":"","sources":["User.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA0E;AAC1E,kDAAyB;AAEzB,MAAqB,IAAK,SAAQ,eAAS;CAyB1C;AAxB8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;qCAAsB;AACxC;IAAT,IAAA,YAAM,GAAE;;wCAAyB;AACxB;IAAT,IAAA,YAAM,GAAE;;yCAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;qCAAsB;AACrB;IAAT,IAAA,YAAM,GAAE;;4CAA6B;AAC5B;IAAT,IAAA,YAAM,GAAE;;6CAA8B;AAC7B;IAAT,IAAA,YAAM,GAAE;;6CAA8B;AAC7B;IAAT,IAAA,YAAM,GAAE;;mCAAoB;AACnB;IAAT,IAAA,YAAM,GAAE;;sCAAuB;AACtB;IAAT,IAAA,YAAM,GAAE;;oCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;mCAAoB;AACnB;IAAT,IAAA,YAAM,GAAE;;mCAAqB;AAM9B;IAJC,IAAA,aAAO,EAAC,GAAE,EAAE,CAAA,cAAI,EAAC;QAChB,QAAQ,EAAC,SAAS;QAClB,UAAU,EAAC,SAAS;KACrB,CAAC;kDACa,aAAO,oBAAP,aAAO;qCAAa;AAGnC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;uCAAA;AAxB5B,uBAyBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, column,hasMany, HasMany } from '@ioc:Adonis/Lucid/Orm'\nimport Form from './Form'\n\nexport default class User extends BaseModel {\n  @column({ isPrimary: true }) public id_user:number\n  @column() public first_name:string\n  @column() public second_name:string\n  @column() public surname:string\n  @column() public second_surname:string\n  @column() public id_typeDocument:number\n  @column() public document_number:string\n  @column() public email:string\n  @column() public password:string\n  @column() public id_rol:number\n  @column() public phone:string\n  @column() public state:boolean\n\n  @hasMany(()=>Form,{\n    localKey:'id_user',\n    foreignKey:'id_user'\n  })\n  public id_form:HasMany<typeof Form>\n  \n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"acda682c87bc7d9c14ded445b897421b50361c3c","contentHash":"04af42061905c889c17fe09853dd20d8bee344e315f7cca03eae36e81bde53ed"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\Form.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\Form.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"15":{"start":{"line":14,"column":14},"end":{"line":14,"column":63}},"16":{"start":{"line":17,"column":0},"end":{"line":20,"column":38}},"17":{"start":{"line":21,"column":0},"end":{"line":24,"column":41}},"18":{"start":{"line":25,"column":0},"end":{"line":28,"column":40}},"19":{"start":{"line":29,"column":0},"end":{"line":32,"column":36}},"20":{"start":{"line":33,"column":0},"end":{"line":36,"column":40}},"21":{"start":{"line":37,"column":0},"end":{"line":40,"column":40}},"22":{"start":{"line":41,"column":0},"end":{"line":41,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":35,"column":30},"end":{"line":35,"column":132}},"type":"cond-expr","locations":[{"start":{"line":35,"column":121},"end":{"line":35,"column":123}},{"start":{"line":35,"column":126},"end":{"line":35,"column":132}}],"line":35},"14":{"loc":{"start":{"line":35,"column":43},"end":{"line":35,"column":102}},"type":"binary-expr","locations":[{"start":{"line":35,"column":43},"end":{"line":35,"column":82}},{"start":{"line":35,"column":86},"end":{"line":35,"column":102}}],"line":35},"15":{"loc":{"start":{"line":39,"column":30},"end":{"line":39,"column":132}},"type":"cond-expr","locations":[{"start":{"line":39,"column":121},"end":{"line":39,"column":123}},{"start":{"line":39,"column":126},"end":{"line":39,"column":132}}],"line":39},"16":{"loc":{"start":{"line":39,"column":43},"end":{"line":39,"column":102}},"type":"binary-expr","locations":[{"start":{"line":39,"column":43},"end":{"line":39,"column":82}},{"start":{"line":39,"column":86},"end":{"line":39,"column":102}}],"line":39}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":6,"12":6,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{"0":6,"1":6},"b":{"0":[1,1,1],"1":[0,6],"2":[0,6],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,1]},"inputSourceMap":{"version":3,"file":"Form.js","sourceRoot":"","sources":["Form.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAAyD;AAEzD,MAAqB,IAAK,SAAQ,eAAS;CAW1C;AAV8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;qCAAuB;AACzC;IAAT,IAAA,YAAM,GAAE;;wCAAyB;AACxB;IAAT,IAAA,YAAM,GAAE;;uCAAwB;AACvB;IAAT,IAAA,YAAM,GAAE;;mCAAqB;AAG9B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;uCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;uCAAA;AAV5B,uBAWC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, column } from '@ioc:Adonis/Lucid/Orm'\n\nexport default class Form extends BaseModel {\n  @column({ isPrimary: true }) public id_form: number\n  @column() public id_student:string\n  @column() public id_answer:number\n  @column() public state:boolean\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6e2148e97f23bef8b13f402390ea8a2c58d04542","contentHash":"58cff433f9895bfccab1bb9421323d993bc56acb6e03a633e04f477c9b31e47d"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Middleware\\AuthJwt.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Middleware\\AuthJwt.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":112}},"4":{"start":{"line":9,"column":36},"end":{"line":9,"column":67}},"5":{"start":{"line":10,"column":8},"end":{"line":15,"column":9}},"6":{"start":{"line":11,"column":12},"end":{"line":14,"column":15}},"7":{"start":{"line":16,"column":22},"end":{"line":16,"column":41}},"8":{"start":{"line":17,"column":8},"end":{"line":25,"column":9}},"9":{"start":{"line":18,"column":39},"end":{"line":18,"column":70}},"10":{"start":{"line":19,"column":12},"end":{"line":19,"column":53}},"11":{"start":{"line":20,"column":12},"end":{"line":20,"column":25}},"12":{"start":{"line":23,"column":12},"end":{"line":23,"column":31}},"13":{"start":{"line":24,"column":12},"end":{"line":24,"column":70}},"14":{"start":{"line":28,"column":0},"end":{"line":28,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":46},"end":{"line":26,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":15,"column":9}},{"start":{"line":10,"column":8},"end":{"line":15,"column":9}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":19,"5":19,"6":0,"7":19,"8":19,"9":19,"10":19,"11":19,"12":0,"13":0,"14":1},"f":{"0":1,"1":19},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[0,19]},"inputSourceMap":{"version":3,"file":"AuthJwt.js","sourceRoot":"","sources":["AuthJwt.ts"],"names":[],"mappings":";;;;;AACA,iHAAkE;AAElE,MAAqB,OAAO;IACnB,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAC,QAAQ,EAAsB,EAAE,IAAyB;QAGpF,MAAM,mBAAmB,GAAI,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAA;QAC5D,IAAG,mBAAmB,KAAG,SAAS,EAAC;YACjC,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC/B,OAAO,EAAC,gCAAgC;gBACxC,MAAM,EAAC,GAAG;aACX,CAAC,CAAA;SACH;QACD,MAAM,KAAK,GAAG,mBAAmB,CAAC;QAClC,IAAG;YACD,MAAM,kBAAkB,GAAG,IAAI,yBAAe,EAAE,CAAC;YACjD,kBAAkB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YACzC,MAAM,IAAI,EAAE,CAAA;SACb;QAAA,OAAM,KAAK,EAAC;YACX,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;YAClB,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,mBAAmB,EAAC,CAAC,CAAC;SAExD;IACH,CAAC;CACF;AAtBD,0BAsBC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport UsersController from 'App/Controllers/Http/UsersController'\n\nexport default class AuthJwt {\n  public async handle({request,response}: HttpContextContract, next: () => Promise<void>) {\n    // code for middleware goes here. ABOVE THE NEXT CALL\n    // ctx=context\n    const authorizationHeader =  request.header('Authorization')\n    if(authorizationHeader===undefined){\n      return response.status(400).send({\n        mensaje:\"Falta el token de autorizacion\",\n        estado:401\n      })\n    }\n    const token = authorizationHeader;\n    try{\n      const usuariosController = new UsersController();\n      usuariosController.verificarToken(token);\n      await next() //continua con la peticion\n    }catch(error){\n      console.log(error)\n      response.status(400).send({\"msg\":\"Falla en el token\"});\n\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bd763c7cd898461638207f820f4ca7b6181a6aa4","contentHash":"59b93af248a0583d1a94cb005afc25e9b0939a55a755f57f0703e05727665db5"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Middleware\\StudentAuth.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Middleware\\StudentAuth.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":63}},"4":{"start":{"line":9,"column":36},"end":{"line":9,"column":67}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":53}},"6":{"start":{"line":11,"column":20},"end":{"line":11,"column":61}},"7":{"start":{"line":12,"column":8},"end":{"line":17,"column":9}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":25}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":88}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":46},"end":{"line":18,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":12,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":17,"column":9}},{"start":{"line":12,"column":8},"end":{"line":17,"column":9}}],"line":12},"4":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":34}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":21}},{"start":{"line":12,"column":25},"end":{"line":12,"column":34}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":2,"7":2,"8":2,"9":0,"10":1},"f":{"0":1,"1":2},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[2,0],"4":[2,0]},"inputSourceMap":{"version":3,"file":"StudentAuth.js","sourceRoot":"","sources":["StudentAuth.ts"],"names":[],"mappings":";;;;;AACA,gEAA+B;AAE/B,MAAqB,WAAW;IACvB,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAC,QAAQ,EAAsB,EAAE,IAAyB;QAEpF,MAAM,mBAAmB,GAAQ,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QAEjE,IAAI,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,MAAM,GAAG,GAAE,sBAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;QAClC,IAAG,GAAG,KAAG,CAAC,IAAE,GAAG,KAAG,CAAC,EAAC;YAClB,MAAM,IAAI,EAAE,CAAA;SACb;aAAI;YACH,QAAQ,CAAC,YAAY,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,qBAAqB,EAAC,CAAC,CAAC;SACxE;IAEH,CAAC;CACF;AAdD,8BAcC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport jwt from 'jsonwebtoken';\n\nexport default class StudentAuth {\n  public async handle({request,response}: HttpContextContract, next: () => Promise<void>) {\n    // code for middleware goes here. ABOVE THE NEXT CALL\n    const authorizationHeader:any =  request.header('Authorization');\n\n    let token = authorizationHeader.split(' ')[1];\n    const rol= jwt.decode(token).role;\n    if(rol===1||rol===2){//rol de admin o estudiante\n      await next()\n    }else{\n      response.unauthorized({\"state\":false,\"message\":\"No estas autorizado\"});\n    }\n\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c7618354b626c5cbb406a446061b64cdecf0de5c","contentHash":"d945ee2b50c96442debede4a60a772b0ff55654f9222899f4f59f14ee5407398"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\FormsController.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\FormsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":84}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":80}},"5":{"start":{"line":8,"column":19},"end":{"line":8,"column":88}},"6":{"start":{"line":11,"column":29},"end":{"line":11,"column":58}},"7":{"start":{"line":12,"column":24},"end":{"line":12,"column":48}},"8":{"start":{"line":13,"column":8},"end":{"line":25,"column":9}},"9":{"start":{"line":14,"column":12},"end":{"line":19,"column":15}},"10":{"start":{"line":15,"column":29},"end":{"line":15,"column":49}},"11":{"start":{"line":16,"column":16},"end":{"line":16,"column":47}},"12":{"start":{"line":17,"column":16},"end":{"line":17,"column":37}},"13":{"start":{"line":18,"column":16},"end":{"line":18,"column":34}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":111}},"15":{"start":{"line":23,"column":12},"end":{"line":23,"column":31}},"16":{"start":{"line":24,"column":12},"end":{"line":24,"column":119}},"17":{"start":{"line":28,"column":8},"end":{"line":37,"column":9}},"18":{"start":{"line":29,"column":28},"end":{"line":29,"column":158}},"19":{"start":{"line":30,"column":32},"end":{"line":30,"column":67}},"20":{"start":{"line":30,"column":51},"end":{"line":30,"column":66}},"21":{"start":{"line":31,"column":30},"end":{"line":31,"column":210}},"22":{"start":{"line":31,"column":161},"end":{"line":31,"column":209}},"23":{"start":{"line":32,"column":12},"end":{"line":32,"column":75}},"24":{"start":{"line":35,"column":12},"end":{"line":35,"column":31}},"25":{"start":{"line":36,"column":12},"end":{"line":36,"column":107}},"26":{"start":{"line":40,"column":0},"end":{"line":40,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":44},"end":{"line":26,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":28},"end":{"line":14,"column":29}},"loc":{"start":{"line":14,"column":43},"end":{"line":19,"column":13}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":33},"end":{"line":38,"column":5}},"line":27},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":44},"end":{"line":30,"column":45}},"loc":{"start":{"line":30,"column":51},"end":{"line":30,"column":66}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":154},"end":{"line":31,"column":155}},"loc":{"start":{"line":31,"column":161},"end":{"line":31,"column":209}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":4,"11":4,"12":4,"13":4,"14":1,"15":0,"16":0,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":0,"26":1},"f":{"0":3,"1":1,"2":4,"3":1,"4":1,"5":1},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"FormsController.js","sourceRoot":"","sources":["FormsController.ts"],"names":[],"mappings":";;;;;AACA,qFAAuC;AACvC,iFAAmC;AACnC,yFAA2C;AAC3C,MAAqB,eAAe;IAEzB,KAAK,CAAC,UAAU,CAAC,EAAC,OAAO,EAAC,QAAQ,EAAqB;QAC1D,MAAM,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QACnD,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAEzC,IAAG;YACC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,GAAO,EAAC,EAAE;gBAC7B,MAAM,IAAI,GAAG,IAAI,cAAI,EAAE,CAAC;gBACxB,IAAI,CAAC,UAAU,GAAC,YAAY,CAAC;gBAC7B,IAAI,CAAC,SAAS,GAAC,GAAG,CAAC;gBACnB,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;YACtB,CAAC,CAAC,CAAA;YACF,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,IAAI,EAAC,SAAS,EAAC,kCAAkC,EAAC,CAAC,CAAA;SAChG;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,yCAAyC,EAAC,CAAC,CAAA;SACxG;IACL,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAqB;QAChD,IAAG;YACC,MAAM,OAAO,GAAY,MAAM,gBAAM,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,EAAC,mBAAmB,EAAC,GAAG,EAAC,iBAAiB,CAAC,CAAC;YAC/I,MAAM,WAAW,GAAE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAA,EAAE,CAAA,GAAG,CAAC,WAAW,CAAC,CAAC;YACrD,MAAM,SAAS,GAAG,MAAM,kBAAQ,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,aAAa,EAAC,UAAU,CAAC,CAAC,OAAO,CAAC,aAAa,EAAC,WAAW,CAAC,CAAC,OAAO,CAAC,WAAW,EAAC,GAAG,CAAA,EAAE,CAAA,GAAG,CAAC,MAAM,CAAC,WAAW,EAAC,QAAQ,EAAC,aAAa,CAAC,CAAC,CAAC;YAEtL,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,IAAI,EAAC,SAAS,EAAC,CAAC,CAAA;SAC7D;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,6BAA6B,EAAC,CAAC,CAAA;SAC5F;IACL,CAAC;CACJ;AAhCD,kCAgCC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Answer from 'App/Models/Answer';\nimport Form from 'App/Models/Form';\nimport Question from 'App/Models/Question';\nexport default class FormsController {\n\n    public async createForm({request,response}:HttpContextContract){\n        const estudianteId = request.input('estudianteId');\n        const answers = request.input('answers');\n        \n        try{\n            answers.forEach(async (ans:any)=>{\n                const form = new Form();\n                form.id_student=estudianteId;\n                form.id_answer=ans;\n                await form.save();\n            })\n            return response.status(200).json({\"state\":true,\"message\":\"Respuestas almacenadas con exito\"}) \n        }catch(error){\n            console.log(error);\n            return response.status(400).json({\"state\":false,\"message\":\"No se pudieron almacenar las respuestas\"}) \n        }\n    }\n\n    public async listForm({response}:HttpContextContract){\n        try{\n            const answers:Answer[] = await Answer.query().select('answers.id_question').distinct().join('forms','answers.id_answer','=','forms.id_answer');\n            const idQuestions= answers.map(ans=>ans.id_question);\n            const questions = await Question.query().select('id_question','question').whereIn('id_question',idQuestions).preload('id_answer',sql=>sql.select('id_answer','answer','id_question'));\n\n            return response.status(200).json({\"state\":true,questions}) \n        }catch(error){\n            console.log(error);\n            return response.status(400).json({\"state\":false,\"message\":\"Error al obtener el listado\"}) \n        }\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bfe10b7393cf454044ab193c17b0bcf45ae9e8fa","contentHash":"88bedb98045d3f3884d94625f21b3f10f23266459ebd84cd38a14e8fdbe19f38"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\Answer.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\Answer.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":49}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":42}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":39}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":43}},"22":{"start":{"line":33,"column":0},"end":{"line":36,"column":44}},"23":{"start":{"line":37,"column":0},"end":{"line":40,"column":38}},"24":{"start":{"line":41,"column":0},"end":{"line":47,"column":40}},"25":{"start":{"line":42,"column":29},"end":{"line":42,"column":43}},"26":{"start":{"line":48,"column":0},"end":{"line":51,"column":42}},"27":{"start":{"line":52,"column":0},"end":{"line":55,"column":42}},"28":{"start":{"line":56,"column":0},"end":{"line":56,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":42,"column":23},"end":{"line":42,"column":24}},"loc":{"start":{"line":42,"column":29},"end":{"line":42,"column":43}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":46,"column":30},"end":{"line":46,"column":126}},"type":"cond-expr","locations":[{"start":{"line":46,"column":115},"end":{"line":46,"column":117}},{"start":{"line":46,"column":120},"end":{"line":46,"column":126}}],"line":46},"17":{"loc":{"start":{"line":46,"column":43},"end":{"line":46,"column":96}},"type":"binary-expr","locations":[{"start":{"line":46,"column":43},"end":{"line":46,"column":79}},{"start":{"line":46,"column":83},"end":{"line":46,"column":96}}],"line":46},"18":{"loc":{"start":{"line":50,"column":30},"end":{"line":50,"column":132}},"type":"cond-expr","locations":[{"start":{"line":50,"column":121},"end":{"line":50,"column":123}},{"start":{"line":50,"column":126},"end":{"line":50,"column":132}}],"line":50},"19":{"loc":{"start":{"line":50,"column":43},"end":{"line":50,"column":102}},"type":"binary-expr","locations":[{"start":{"line":50,"column":43},"end":{"line":50,"column":82}},{"start":{"line":50,"column":86},"end":{"line":50,"column":102}}],"line":50},"20":{"loc":{"start":{"line":54,"column":30},"end":{"line":54,"column":132}},"type":"cond-expr","locations":[{"start":{"line":54,"column":121},"end":{"line":54,"column":123}},{"start":{"line":54,"column":126},"end":{"line":54,"column":132}}],"line":54},"21":{"loc":{"start":{"line":54,"column":43},"end":{"line":54,"column":102}},"type":"binary-expr","locations":[{"start":{"line":54,"column":43},"end":{"line":54,"column":82}},{"start":{"line":54,"column":86},"end":{"line":54,"column":102}}],"line":54}},"s":{"0":1,"1":8,"2":8,"3":8,"4":8,"5":0,"6":0,"7":0,"8":0,"9":8,"10":1,"11":8,"12":8,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1},"f":{"0":8,"1":8,"2":1,"3":0},"b":{"0":[1,1,1],"1":[0,8],"2":[0,8],"3":[8,0],"4":[8,8],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[8,8,0],"10":[1,1,1],"11":[8,0],"12":[8,8],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[0,1],"17":[1,0],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1]},"inputSourceMap":{"version":3,"file":"Answer.js","sourceRoot":"","sources":["Answer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA2E;AAC3E,kDAA0B;AAE1B,MAAqB,MAAO,SAAQ,eAAS;CAkB5C;AAjB8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;yCAAyB;AAC3C;IAAT,IAAA,YAAM,GAAE;;sCAAqB;AACpB;IAAT,IAAA,YAAM,GAAE;;0CAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;2CAA0B;AACzB;IAAT,IAAA,YAAM,GAAE;;qCAAqB;AAM9B;IAJC,IAAA,aAAO,EAAC,GAAE,EAAE,CAAC,cAAI,EAAC;QACjB,QAAQ,EAAC,WAAW;QACpB,UAAU,EAAC,WAAW;KACvB,CAAC;kDACa,aAAO,oBAAP,aAAO;uCAAa;AAGnC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;yCAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;yCAAA;AAjB5B,yBAkBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, column, HasMany, hasMany } from '@ioc:Adonis/Lucid/Orm'\nimport Form from './Form';\n\nexport default class Answer extends BaseModel {\n  @column({ isPrimary: true }) public id_answer: number\n  @column() public answer:string\n  @column() public is_correct:boolean\n  @column() public id_question:number\n  @column() public state:boolean\n\n  @hasMany(()=> Form,{\n    localKey:'id_answer',\n    foreignKey:'id_answer'\n  })\n  public id_form:HasMany<typeof Form>\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"48ff0feb4dfca03cafadb741e8fd2f4820eccbaa","contentHash":"76c5835be9f0ea3195f1492c1302a02d12c6f9e89fce414bfd4f3b260a3867fa"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\Question.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Models\\Question.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":32}},"17":{"start":{"line":17,"column":14},"end":{"line":17,"column":63}},"18":{"start":{"line":18,"column":17},"end":{"line":18,"column":53}},"19":{"start":{"line":21,"column":0},"end":{"line":24,"column":46}},"20":{"start":{"line":25,"column":0},"end":{"line":28,"column":43}},"21":{"start":{"line":29,"column":0},"end":{"line":32,"column":40}},"22":{"start":{"line":33,"column":0},"end":{"line":39,"column":44}},"23":{"start":{"line":34,"column":29},"end":{"line":34,"column":45}},"24":{"start":{"line":40,"column":0},"end":{"line":43,"column":44}},"25":{"start":{"line":44,"column":0},"end":{"line":47,"column":44}},"26":{"start":{"line":48,"column":0},"end":{"line":48,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":34,"column":23},"end":{"line":34,"column":24}},"loc":{"start":{"line":34,"column":29},"end":{"line":34,"column":45}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"15":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"16":{"loc":{"start":{"line":38,"column":30},"end":{"line":38,"column":126}},"type":"cond-expr","locations":[{"start":{"line":38,"column":115},"end":{"line":38,"column":117}},{"start":{"line":38,"column":120},"end":{"line":38,"column":126}}],"line":38},"17":{"loc":{"start":{"line":38,"column":43},"end":{"line":38,"column":96}},"type":"binary-expr","locations":[{"start":{"line":38,"column":43},"end":{"line":38,"column":79}},{"start":{"line":38,"column":83},"end":{"line":38,"column":96}}],"line":38},"18":{"loc":{"start":{"line":42,"column":30},"end":{"line":42,"column":132}},"type":"cond-expr","locations":[{"start":{"line":42,"column":121},"end":{"line":42,"column":123}},{"start":{"line":42,"column":126},"end":{"line":42,"column":132}}],"line":42},"19":{"loc":{"start":{"line":42,"column":43},"end":{"line":42,"column":102}},"type":"binary-expr","locations":[{"start":{"line":42,"column":43},"end":{"line":42,"column":82}},{"start":{"line":42,"column":86},"end":{"line":42,"column":102}}],"line":42},"20":{"loc":{"start":{"line":46,"column":30},"end":{"line":46,"column":132}},"type":"cond-expr","locations":[{"start":{"line":46,"column":121},"end":{"line":46,"column":123}},{"start":{"line":46,"column":126},"end":{"line":46,"column":132}}],"line":46},"21":{"loc":{"start":{"line":46,"column":43},"end":{"line":46,"column":102}},"type":"binary-expr","locations":[{"start":{"line":46,"column":43},"end":{"line":46,"column":82}},{"start":{"line":46,"column":86},"end":{"line":46,"column":102}}],"line":46}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":0,"6":0,"7":0,"8":0,"9":6,"10":1,"11":6,"12":6,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":3,"24":1,"25":1,"26":1},"f":{"0":6,"1":6,"2":1,"3":3},"b":{"0":[1,1,1],"1":[0,6],"2":[0,6],"3":[6,0],"4":[6,6],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[6,6,0],"10":[1,1,1],"11":[6,0],"12":[6,6],"13":[1,1,1],"14":[1,0],"15":[1,1],"16":[0,1],"17":[1,0],"18":[1,0],"19":[1,1],"20":[1,0],"21":[1,1]},"inputSourceMap":{"version":3,"file":"Question.js","sourceRoot":"","sources":["Question.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iCAAgC;AAChC,gEAA2E;AAC3E,sDAA6B;AAE7B,MAAqB,QAAS,SAAQ,eAAS;CAgB9C;AAf8B;IAA5B,IAAA,YAAM,EAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;;6CAA2B;AAC7C;IAAT,IAAA,YAAM,GAAE;;0CAAuB;AACtB;IAAT,IAAA,YAAM,GAAE;;uCAAqB;AAM9B;IAJC,IAAA,aAAO,EAAC,GAAE,EAAE,CAAA,gBAAM,EAAC;QAClB,QAAQ,EAAC,aAAa;QACtB,UAAU,EAAC,aAAa;KACzB,CAAC;kDACe,aAAO,oBAAP,aAAO;2CAAe;AAGvC;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACpB,gBAAQ,oBAAR,gBAAQ;2CAAA;AAG1B;IADC,YAAM,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;kDACtC,gBAAQ,oBAAR,gBAAQ;2CAAA;AAf5B,2BAgBC","sourcesContent":["import { DateTime } from 'luxon'\nimport { BaseModel, column, hasMany, HasMany } from '@ioc:Adonis/Lucid/Orm'\nimport Answer from './Answer'\n\nexport default class Question extends BaseModel {\n  @column({ isPrimary: true }) public id_question: number\n  @column() public question:string\n  @column() public state:boolean\n  \n  @hasMany(()=>Answer,{\n    localKey:'id_question',\n    foreignKey:'id_question'\n  })\n  public id_answer:HasMany<typeof Answer>\n\n  @column.dateTime({ autoCreate: true })\n  public createdAt: DateTime\n\n  @column.dateTime({ autoCreate: true, autoUpdate: true })\n  public updatedAt: DateTime\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0c9cc32b381e3a6d3c0133a56c706ad25200b35c","contentHash":"1ce3a6328f0e42c6fbdb023e12db390517958b66bac317d63c6c597047af7756"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Middleware\\AdminAuth.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Middleware\\AdminAuth.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":63}},"4":{"start":{"line":9,"column":36},"end":{"line":9,"column":67}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":53}},"6":{"start":{"line":11,"column":20},"end":{"line":11,"column":61}},"7":{"start":{"line":12,"column":8},"end":{"line":17,"column":9}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":25}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":88}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":46},"end":{"line":18,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":12,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":17,"column":9}},{"start":{"line":12,"column":8},"end":{"line":17,"column":9}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":17,"5":17,"6":17,"7":17,"8":17,"9":0,"10":1},"f":{"0":1,"1":17},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[17,0]},"inputSourceMap":{"version":3,"file":"AdminAuth.js","sourceRoot":"","sources":["AdminAuth.ts"],"names":[],"mappings":";;;;;AACA,gEAA+B;AAE/B,MAAqB,SAAS;IACrB,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAC,QAAQ,EAAsB,EAAE,IAAyB;QAEpF,MAAM,mBAAmB,GAAQ,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QAEjE,IAAI,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,MAAM,GAAG,GAAE,sBAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;QAClC,IAAG,GAAG,KAAG,CAAC,EAAC;YACT,MAAM,IAAI,EAAE,CAAA;SACb;aAAI;YACH,QAAQ,CAAC,YAAY,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,qBAAqB,EAAC,CAAC,CAAC;SACxE;IAEH,CAAC;CACF;AAdD,4BAcC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport jwt from 'jsonwebtoken';\n\nexport default class AdminAuth {\n  public async handle({request,response}: HttpContextContract, next: () => Promise<void>) {\n    // code for middleware goes here. ABOVE THE NEXT CALL\n    const authorizationHeader:any =  request.header('Authorization');\n\n    let token = authorizationHeader.split(' ')[1];\n    const rol= jwt.decode(token).role;\n    if(rol===1){//rol de admin\n      await next()\n    }else{\n      response.unauthorized({\"state\":false,\"message\":\"No estas autorizado\"});\n    }\n\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1e14f33af8bd1f3f73426cecdcb979c6efae2078","contentHash":"669569eeccf94de54bfcf9019fec139cf7d5030727c4b75cd5abc5b0aa3c2bfa"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\QuestionsController.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\QuestionsController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":88}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":84}},"5":{"start":{"line":10,"column":30},"end":{"line":10,"column":55}},"6":{"start":{"line":11,"column":29},"end":{"line":11,"column":53}},"7":{"start":{"line":12,"column":25},"end":{"line":12,"column":49}},"8":{"start":{"line":13,"column":8},"end":{"line":26,"column":9}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":46}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":34}},"11":{"start":{"line":16,"column":12},"end":{"line":21,"column":13}},"12":{"start":{"line":17,"column":16},"end":{"line":17,"column":104}},"13":{"start":{"line":20,"column":16},"end":{"line":20,"column":103}},"14":{"start":{"line":24,"column":12},"end":{"line":24,"column":31}},"15":{"start":{"line":25,"column":12},"end":{"line":25,"column":93}},"16":{"start":{"line":29,"column":8},"end":{"line":42,"column":9}},"17":{"start":{"line":30,"column":12},"end":{"line":36,"column":15}},"18":{"start":{"line":31,"column":31},"end":{"line":31,"column":53}},"19":{"start":{"line":32,"column":16},"end":{"line":32,"column":40}},"20":{"start":{"line":33,"column":16},"end":{"line":33,"column":46}},"21":{"start":{"line":34,"column":16},"end":{"line":34,"column":53}},"22":{"start":{"line":35,"column":16},"end":{"line":35,"column":36}},"23":{"start":{"line":37,"column":12},"end":{"line":37,"column":24}},"24":{"start":{"line":40,"column":12},"end":{"line":40,"column":31}},"25":{"start":{"line":41,"column":12},"end":{"line":41,"column":25}},"26":{"start":{"line":45,"column":8},"end":{"line":55,"column":9}},"27":{"start":{"line":46,"column":30},"end":{"line":46,"column":96}},"28":{"start":{"line":47,"column":12},"end":{"line":50,"column":15}},"29":{"start":{"line":53,"column":12},"end":{"line":53,"column":31}},"30":{"start":{"line":54,"column":12},"end":{"line":54,"column":102}},"31":{"start":{"line":58,"column":19},"end":{"line":58,"column":38}},"32":{"start":{"line":59,"column":25},"end":{"line":59,"column":58}},"33":{"start":{"line":60,"column":8},"end":{"line":66,"column":9}},"34":{"start":{"line":61,"column":12},"end":{"line":61,"column":58}},"35":{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},"36":{"start":{"line":63,"column":16},"end":{"line":63,"column":117}},"37":{"start":{"line":65,"column":12},"end":{"line":65,"column":107}},"38":{"start":{"line":67,"column":8},"end":{"line":67,"column":98}},"39":{"start":{"line":70,"column":19},"end":{"line":70,"column":38}},"40":{"start":{"line":71,"column":25},"end":{"line":71,"column":58}},"41":{"start":{"line":72,"column":8},"end":{"line":78,"column":9}},"42":{"start":{"line":73,"column":12},"end":{"line":73,"column":36}},"43":{"start":{"line":74,"column":12},"end":{"line":74,"column":100}},"44":{"start":{"line":77,"column":12},"end":{"line":77,"column":99}},"45":{"start":{"line":81,"column":0},"end":{"line":81,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":48},"end":{"line":27,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":37},"end":{"line":43,"column":5}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":28},"end":{"line":30,"column":29}},"loc":{"start":{"line":30,"column":46},"end":{"line":36,"column":13}},"line":30},"4":{"name":"(anonymous_4)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":37},"end":{"line":56,"column":5}},"line":44},"5":{"name":"(anonymous_5)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":48},"end":{"line":68,"column":5}},"line":57},"6":{"name":"(anonymous_6)","decl":{"start":{"line":69,"column":4},"end":{"line":69,"column":5}},"loc":{"start":{"line":69,"column":48},"end":{"line":79,"column":5}},"line":69}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":16,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":21,"column":13}},{"start":{"line":16,"column":12},"end":{"line":21,"column":13}}],"line":16},"4":{"loc":{"start":{"line":60,"column":8},"end":{"line":66,"column":9}},"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":66,"column":9}},{"start":{"line":60,"column":8},"end":{"line":66,"column":9}}],"line":60},"5":{"loc":{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":64,"column":13}},{"start":{"line":62,"column":12},"end":{"line":64,"column":13}}],"line":62},"6":{"loc":{"start":{"line":72,"column":8},"end":{"line":78,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":78,"column":9}},{"start":{"line":72,"column":8},"end":{"line":78,"column":9}}],"line":72}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":2,"12":1,"13":1,"14":0,"15":0,"16":2,"17":2,"18":4,"19":4,"20":4,"21":4,"22":4,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":0,"31":2,"32":2,"33":2,"34":1,"35":1,"36":1,"37":0,"38":1,"39":2,"40":2,"41":2,"42":1,"43":1,"44":1,"45":1},"f":{"0":2,"1":2,"2":2,"3":4,"4":1,"5":2,"6":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[1,1],"4":[1,1],"5":[1,0],"6":[1,1]},"inputSourceMap":{"version":3,"file":"QuestionsController.js","sourceRoot":"","sources":["QuestionsController.ts"],"names":[],"mappings":"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","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\nimport Question from 'App/Models/Question';\nimport Answer from 'App/Models/Answer';\n\nexport default class QuestionsController {\n\n    public async createQuestion({request,response}:HttpContextContract){\n        const questionInput = request.input('question');\n        const optionsInput:[] = request.input('options');\n        const question = new Question();\n        try{\n            question.question=questionInput;\n            await question.save();\n            if(await this.createAnswers(optionsInput,question.id_question)){\n                response.status(200).json({\"state\":true,\"message\":\"Pregunta creada exitosamente\"})\n            }else{\n                response.status(400).json({\"state\":false,\"message\":\"Error al crear la pregunta\"})\n            }\n        }catch(error){\n            console.log(error)\n            response.status(400).json({\"state\":false,\"message\":\"Error en el servidor\"})\n        }\n    }\n\n    private async createAnswers(options:any,id:any){\n        try{\n            options.forEach(async (option:any)=>{\n                const answer = new Answer();\n                answer.id_question=id;\n                answer.answer=option.opcion;\n                answer.is_correct=option.iscorrect;\n                await answer.save();\n            })\n            return true;\n        }catch(error){\n            console.log(error)\n            return false;\n        }\n    }\n\n    public async getQuestions({response}:HttpContextContract){\n        try{\n            const questions = await Question.query().select('id_question','question');\n            response.status(200).json({\n                \"state\":true,\n                \"questions\":questions\n            });\n        }catch(error){\n            console.log(error);\n            response.status(400).json({\"state\":false,\"message\":\"Error al listar las preguntas\"})\n        }\n    }\n\n    public async updateQuestion({request,response}:HttpContextContract){\n        const id = request.param('id');\n        const question = await Question.find(id);\n        if(question){\n            question.question=request.input('question');\n            if(await question.save()){\n                return response.status(200).json({\"state\":true,\"message\":\"Pregunta actualizado correctamente\"}) \n            }\n            return response.status(400).json({\"state\":false,\"message\":\"Error al editar la pregunta\"}) \n        }\n        return response.status(404).json({\"state\":false,\"message\":\"Pregunta no encontrado\"}) \n    }\n\n    public async deleteQuestion({request,response}:HttpContextContract){\n        const id = request.param('id');\n        const question = await Question.find(id);\n        if(question){\n            await question.delete();\n            response.status(200).json({\"state\":true,\"message\":\"Pregunta eliminada con exito\"})\n        }else{\n            response.status(400).json({\"state\":false,\"message\":\"Error al eliminar pregunta\"})\n        }\n        \n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b82438a7e445f50eadc0c51234f321dda53d7ed","contentHash":"59cf4a5f92edabe47bbdba2454ff5001054181217bf6de76218bdb9e407cf782"},"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\AnswersController.ts":{"path":"C:\\Users\\Juancho\\adonisJs\\reto-final\\app\\Controllers\\Http\\AnswersController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":84}},"4":{"start":{"line":9,"column":19},"end":{"line":9,"column":38}},"5":{"start":{"line":10,"column":23},"end":{"line":10,"column":54}},"6":{"start":{"line":11,"column":8},"end":{"line":17,"column":9}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":52}},"8":{"start":{"line":13,"column":12},"end":{"line":15,"column":13}},"9":{"start":{"line":14,"column":16},"end":{"line":14,"column":115}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":105}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":96}},"12":{"start":{"line":21,"column":19},"end":{"line":21,"column":38}},"13":{"start":{"line":22,"column":8},"end":{"line":33,"column":9}},"14":{"start":{"line":23,"column":28},"end":{"line":23,"column":113}},"15":{"start":{"line":24,"column":12},"end":{"line":28,"column":15}},"16":{"start":{"line":31,"column":12},"end":{"line":31,"column":31}},"17":{"start":{"line":32,"column":12},"end":{"line":32,"column":102}},"18":{"start":{"line":36,"column":0},"end":{"line":36,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":46},"end":{"line":19,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":45},"end":{"line":34,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":11,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":17,"column":9}},{"start":{"line":11,"column":8},"end":{"line":17,"column":9}}],"line":11},"4":{"loc":{"start":{"line":13,"column":12},"end":{"line":15,"column":13}},"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":15,"column":13}},{"start":{"line":13,"column":12},"end":{"line":15,"column":13}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":2,"7":1,"8":1,"9":1,"10":0,"11":1,"12":2,"13":2,"14":2,"15":1,"16":1,"17":1,"18":1},"f":{"0":1,"1":2,"2":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,0]},"inputSourceMap":{"version":3,"file":"AnswersController.js","sourceRoot":"","sources":["AnswersController.ts"],"names":[],"mappings":";;;;;AAEA,qFAAuC;AAEvC,MAAqB,iBAAiB;IAC3B,KAAK,CAAC,YAAY,CAAC,EAAC,OAAO,EAAC,QAAQ,EAAqB;QAC5D,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC/B,MAAM,MAAM,GAAG,MAAM,gBAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACrC,IAAG,MAAM,EAAC;YACN,MAAM,CAAC,MAAM,GAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAG,MAAM,MAAM,CAAC,IAAI,EAAE,EAAC;gBACnB,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,IAAI,EAAC,SAAS,EAAC,kCAAkC,EAAC,CAAC,CAAA;aAChG;YACD,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,2BAA2B,EAAC,CAAC,CAAA;SAC1F;QACD,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,sBAAsB,EAAC,CAAC,CAAA;IACtF,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,EAAC,OAAO,EAAC,QAAQ,EAAqB;QAC3D,MAAM,EAAE,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAG;YACC,MAAM,OAAO,GAAG,MAAM,gBAAM,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,WAAW,EAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,aAAa,EAAC,EAAE,CAAC,CAAC;YAC1F,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC7B,OAAO,EAAC,IAAI;gBACZ,SAAS,EAAC,qBAAqB;gBAC/B,SAAS,EAAC,OAAO;aACpB,CAAC,CAAA;SACL;QAAA,OAAM,KAAK,EAAC;YACT,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,KAAK,EAAC,SAAS,EAAC,wBAAwB,EAAC,CAAC,CAAA;SACvF;IACL,CAAC;CACJ;AA5BD,oCA4BC","sourcesContent":["import type { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'\n\nimport Answer from 'App/Models/Answer';\n\nexport default class AnswersController {\n    public async updateAnswer({request,response}:HttpContextContract){\n        const id = request.param('id');\n        const answer = await Answer.find(id);\n        if(answer){\n            answer.answer=request.input('opcion');\n            if(await answer.save()){\n                return response.status(200).json({\"state\":true,\"message\":\"Opcion actualizado correctamente\"}) \n            }\n            return response.status(400).json({\"state\":false,\"message\":\"Error al editar la opcion\"}) \n        }\n        return response.status(404).json({\"state\":false,\"message\":\"Opcion no encontrada\"}) \n    }\n\n    public async listAnswers({request,response}:HttpContextContract){\n        const id = request.param('id');\n        try{\n            const answers = await Answer.query().select('id_answer','answer').where('id_question',id);\n            return response.status(200).json({\n                \"state\":true,\n                \"message\":\"Listado de opciones\",\n                \"options\":answers\n            }) \n        }catch(error){\n            console.log(error);\n            return response.status(404).json({\"state\":false,\"message\":\"Pregunta no encontrada\"}) \n        }\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5a62a46795cadce5aa0d4d17a1278bfd5b52dc5a","contentHash":"0e0b248d8cdfb6908b39bb5344c34b916d54ebaef01d2faa4f0c9c01bd59c667"}}